{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{\"D5/R\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"CertifiedFormsModule\",(function(){return certified_forms_module_CertifiedFormsModule}));var common=__webpack_require__(\"ofXK\"),shared=__webpack_require__(\"M0ag\"),fesm2015_router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"ey9i\"),fesm2015_core=__webpack_require__(\"fXoL\"),tslib_es6=__webpack_require__(\"mrSG\"),environment=__webpack_require__(\"AytR\"),ngx_toastr=__webpack_require__(\"5eHb\"),external_link_directive=__webpack_require__(\"aNQE\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),show_authed_directive=__webpack_require__(\"TYhg\");const _c0=[\"emailInput\"],_c1=[\"conditions\"],_c2=[\"cardField\"];function CheckoutComponent_div_8_Template(rf,ctx){if(1&rf){const _r472=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",15),fesm2015_core.Qb(1,\"div\",16),fesm2015_core.Qb(2,\"div\",17),fesm2015_core.Qb(3,\"div\",18),fesm2015_core.Qb(4,\"div\",19),fesm2015_core.Qb(5,\"span\",20),fesm2015_core.zc(6),fesm2015_core.Pb(),fesm2015_core.Qb(7,\"span\",21),fesm2015_core.zc(8,\" Descarga inmediata en formatos Word y PDF \"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(9,\"div\",22),fesm2015_core.zc(10),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(11,\"div\",23),fesm2015_core.Qb(12,\"div\",24),fesm2015_core.Qb(13,\"label\",25),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r472);const ctx_r471=fesm2015_core.dc();return ctx_r471.hire_lawyer=!ctx_r471.hire_lawyer})),fesm2015_core.Mb(14,\"input\",26),fesm2015_core.Qb(15,\"span\"),fesm2015_core.zc(16,\"Consulta con abogado (30 min)\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(17,\"div\",27),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r472),fesm2015_core.dc().hide_lawyer_explanation=!1})),fesm2015_core.zc(18,\"Más información\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(19,\"div\",28),fesm2015_core.Qb(20,\"span\"),fesm2015_core.zc(21),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(22,\"div\",29),fesm2015_core.Qb(23,\"div\",30),fesm2015_core.Qb(24,\"button\",31),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r472),fesm2015_core.dc().hide_lawyer_explanation=!0})),fesm2015_core.Qb(25,\"span\",32),fesm2015_core.zc(26,\"×\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(27,\"div\",33),fesm2015_core.Qb(28,\"p\"),fesm2015_core.zc(29,\"Dispondrá de uno de nuestros abogados durante 30 minutos por teléfono. Le podrá plantear dudas relativas a este contrato y a otros temas.\"),fesm2015_core.Pb(),fesm2015_core.Qb(30,\"p\"),fesm2015_core.zc(31,\"En el caso de que el abogado necesite recabar información para contestar mejor a sus preguntas, de esos 30 minutos se tomará un tiempo para hacerlo y le llamará para contestar a sus preguntas.\"),fesm2015_core.Pb(),fesm2015_core.Qb(32,\"p\"),fesm2015_core.zc(33,\"El abogado le enviará un correo electrónico en las próximas 24 horas al realizar el pago para concertar una cita telefónica cuando mejor le convenga y poder cuadrar horarios.\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(34,\"div\",34),fesm2015_core.Qb(35,\"span\",35),fesm2015_core.zc(36,\"Total:\"),fesm2015_core.Pb(),fesm2015_core.Qb(37,\"span\",36),fesm2015_core.zc(38),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(39,\"div\",37),fesm2015_core.Qb(40,\"span\"),fesm2015_core.Mb(41,\"img\",38),fesm2015_core.Pb(),fesm2015_core.Qb(42,\"span\"),fesm2015_core.Qb(43,\"a\",39),fesm2015_core.Mb(44,\"img\",40),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const ctx_r462=fesm2015_core.dc();fesm2015_core.zb(6),fesm2015_core.Bc(\" \",ctx_r462.form.title,\" \"),fesm2015_core.zb(4),fesm2015_core.Bc(\" \",ctx_r462.form.amount,\" € \"),fesm2015_core.zb(4),fesm2015_core.ic(\"checked\",ctx_r462.hire_lawyer),fesm2015_core.zb(7),fesm2015_core.Bc(\" \",ctx_r462.lawyer_price,\" € \"),fesm2015_core.zb(1),fesm2015_core.ic(\"hidden\",ctx_r462.hide_lawyer_explanation),fesm2015_core.zb(16),fesm2015_core.Bc(\" \",ctx_r462.form.amount+(ctx_r462.hire_lawyer?ctx_r462.lawyer_price:0),\" euros \")}}function CheckoutComponent_div_9_label_7_Template(rf,ctx){if(1&rf){const _r480=fesm2015_core.Rb();fesm2015_core.Qb(0,\"label\",49),fesm2015_core.zc(1,\" ¿Tienes cuenta? \"),fesm2015_core.Qb(2,\"a\",54),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r480),fesm2015_core.dc(2).goToAuth()})),fesm2015_core.zc(3,\"Inicia sesión\"),fesm2015_core.Pb(),fesm2015_core.Pb()}}function CheckoutComponent_div_9_br_8_Template(rf,ctx){1&rf&&fesm2015_core.Mb(0,\"br\")}function CheckoutComponent_div_9_Template(rf,ctx){if(1&rf){const _r482=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",41),fesm2015_core.Qb(1,\"div\",42),fesm2015_core.Qb(2,\"h1\",43),fesm2015_core.zc(3,\"Dirección de correo para recibir el documento\"),fesm2015_core.Pb(),fesm2015_core.Mb(4,\"label\",44),fesm2015_core.Qb(5,\"input\",45,46),fesm2015_core.Zb(\"ngModelChange\",(function($event){return fesm2015_core.rc(_r482),fesm2015_core.dc().email=$event})),fesm2015_core.Pb(),fesm2015_core.yc(7,CheckoutComponent_div_9_label_7_Template,4,0,\"label\",47),fesm2015_core.yc(8,CheckoutComponent_div_9_br_8_Template,1,0,\"br\",48),fesm2015_core.Qb(9,\"div\",49),fesm2015_core.Qb(10,\"label\",50),fesm2015_core.Qb(11,\"input\",51,52),fesm2015_core.Zb(\"ngModelChange\",(function($event){return fesm2015_core.rc(_r482),fesm2015_core.dc().conditionsChecked=$event})),fesm2015_core.Pb(),fesm2015_core.Qb(13,\"span\"),fesm2015_core.zc(14,\"Acepto las condiciones generales de venta \"),fesm2015_core.Qb(15,\"a\",53),fesm2015_core.zc(16,\"(leer las CGV)\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const ctx_r463=fesm2015_core.dc();fesm2015_core.zb(5),fesm2015_core.ic(\"ngModel\",ctx_r463.email),fesm2015_core.zb(2),fesm2015_core.ic(\"appShowAuthed\",!1),fesm2015_core.zb(1),fesm2015_core.ic(\"appShowAuthed\",!0),fesm2015_core.zb(3),fesm2015_core.ic(\"ngModel\",ctx_r463.conditionsChecked)}}function CheckoutComponent_div_10_div_1_Template(rf,ctx){if(1&rf){const _r488=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",59),fesm2015_core.Qb(1,\"label\",60),fesm2015_core.Qb(2,\"div\",61),fesm2015_core.Mb(3,\"img\",62),fesm2015_core.Mb(4,\"img\",63),fesm2015_core.Pb(),fesm2015_core.Qb(5,\"div\",64),fesm2015_core.Qb(6,\"input\",65),fesm2015_core.Zb(\"change\",(function(){return fesm2015_core.rc(_r488),fesm2015_core.dc(2).onPaymentMethodSelected(\"card\")})),fesm2015_core.Pb(),fesm2015_core.zc(7,\" con tarjeta \"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(8,\"label\",66),fesm2015_core.Qb(9,\"div\",61),fesm2015_core.Mb(10,\"img\",67),fesm2015_core.Pb(),fesm2015_core.Qb(11,\"div\",64),fesm2015_core.Qb(12,\"input\",68),fesm2015_core.Zb(\"change\",(function(){return fesm2015_core.rc(_r488),fesm2015_core.dc(2).onPaymentMethodSelected(\"paypal\")})),fesm2015_core.Pb(),fesm2015_core.zc(13,\" con paypal \"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}}function CheckoutComponent_div_10_form_2_Template(rf,ctx){if(1&rf){const _r494=fesm2015_core.Rb();fesm2015_core.Qb(0,\"form\",69),fesm2015_core.Qb(1,\"div\",70),fesm2015_core.Qb(2,\"label\",71),fesm2015_core.zc(3,\"Nombre\"),fesm2015_core.Pb(),fesm2015_core.Qb(4,\"input\",72),fesm2015_core.Zb(\"ngModelChange\",(function($event){return fesm2015_core.rc(_r494),fesm2015_core.dc(2).cardholdersName=$event})),fesm2015_core.Pb(),fesm2015_core.Qb(5,\"div\",73),fesm2015_core.Qb(6,\"div\"),fesm2015_core.Qb(7,\"label\",74),fesm2015_core.zc(8,\"Fecha válida\"),fesm2015_core.Pb(),fesm2015_core.Mb(9,\"div\",75,76),fesm2015_core.Qb(11,\"small\",77),fesm2015_core.zc(12,\"Fecha de expiración inválida\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(13,\"div\"),fesm2015_core.Qb(14,\"label\",78),fesm2015_core.zc(15,\"CVV / CVC *\"),fesm2015_core.Pb(),fesm2015_core.Mb(16,\"div\",79,80),fesm2015_core.Qb(18,\"small\",77),fesm2015_core.zc(19,\"CVV Inválido\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(20,\"div\",81),fesm2015_core.Qb(21,\"label\",82),fesm2015_core.zc(22,\"Número de la tarjeta\"),fesm2015_core.Pb(),fesm2015_core.Mb(23,\"div\",83,84),fesm2015_core.Qb(25,\"small\",77),fesm2015_core.zc(26,\"Número inválido\"),fesm2015_core.Pb(),fesm2015_core.Qb(27,\"span\",85),fesm2015_core.zc(28,\"* El código CVV o CVC es un grupo de 3 o 4 números situado en el reverso de la tarjeta de crédito.\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const ctx_r485=fesm2015_core.dc(2);fesm2015_core.zb(4),fesm2015_core.ic(\"ngModel\",ctx_r485.cardholdersName)}}function CheckoutComponent_div_10_div_3_Template(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",86),fesm2015_core.Mb(1,\"div\",87),fesm2015_core.Pb())}function CheckoutComponent_div_10_Template(rf,ctx){if(1&rf&&(fesm2015_core.Qb(0,\"div\",55),fesm2015_core.yc(1,CheckoutComponent_div_10_div_1_Template,14,0,\"div\",56),fesm2015_core.yc(2,CheckoutComponent_div_10_form_2_Template,29,1,\"form\",57),fesm2015_core.yc(3,CheckoutComponent_div_10_div_3_Template,2,0,\"div\",58),fesm2015_core.Pb()),2&rf){const ctx_r464=fesm2015_core.dc();fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",!1===ctx_r464.loadingPayment),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",!1===ctx_r464.loadingPayment&&\"card\"===ctx_r464.paymentMethod),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"paypal\"===ctx_r464.paymentMethod)}}function CheckoutComponent_div_11_Template(rf,ctx){if(1&rf){const _r496=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",88),fesm2015_core.Qb(1,\"h2\"),fesm2015_core.zc(2),fesm2015_core.Pb(),fesm2015_core.Qb(3,\"div\",34),fesm2015_core.Qb(4,\"span\",89),fesm2015_core.zc(5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"span\",90),fesm2015_core.zc(7),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(8,\"p\",91),fesm2015_core.zc(9,\"Recibirás un mensaje a \"),fesm2015_core.Qb(10,\"strong\"),fesm2015_core.zc(11),fesm2015_core.Pb(),fesm2015_core.zc(12,\" con tu factura así como los documentos. Durante los próximos 15 días podrás modificar el formulario de nuevo sin tener que pagar y volver a descargarlo, una vez terminado el plazo caducará.\"),fesm2015_core.Pb(),fesm2015_core.Qb(13,\"div\",92),fesm2015_core.Qb(14,\"h3\"),fesm2015_core.zc(15,\"Descarga ahora\"),fesm2015_core.Pb(),fesm2015_core.Qb(16,\"span\",93),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r496),fesm2015_core.dc().downloadWord()})),fesm2015_core.Pb(),fesm2015_core.Qb(17,\"span\",94),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r496),fesm2015_core.dc().downloadPdf()})),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const ctx_r465=fesm2015_core.dc();fesm2015_core.zb(2),fesm2015_core.Bc(\"Transacción: \",ctx_r465.transactionId,\"\"),fesm2015_core.zb(3),fesm2015_core.Ac(ctx_r465.form.title),fesm2015_core.zb(2),fesm2015_core.Bc(\"\",ctx_r465.form.amount+(ctx_r465.hire_lawyer?ctx_r465.lawyer_price:0),\" €\"),fesm2015_core.zb(4),fesm2015_core.Ac(ctx_r465.email)}}const _c3=function(a0){return{opacity:a0}};function CheckoutComponent_button_13_Template(rf,ctx){if(1&rf){const _r499=fesm2015_core.Rb();fesm2015_core.Qb(0,\"button\",95),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r499),fesm2015_core.dc().moveStep(\"previous\")})),fesm2015_core.zc(1,\"Anterior\"),fesm2015_core.Pb()}if(2&rf){const ctx_r466=fesm2015_core.dc();fesm2015_core.xc(\"display\",\"cart\"===ctx_r466.steps[ctx_r466.currentStep].type?\"none\":\"block\"),fesm2015_core.ic(\"ngStyle\",fesm2015_core.lc(4,_c3,\"cart\"===ctx_r466.steps[ctx_r466.currentStep].type?0:1))(\"disabled\",\"cart\"===ctx_r466.steps[ctx_r466.currentStep].type)}}function CheckoutComponent_button_14_Template(rf,ctx){if(1&rf){const _r501=fesm2015_core.Rb();fesm2015_core.Qb(0,\"button\",96),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r501),fesm2015_core.dc().exitModal.emit()})),fesm2015_core.zc(1,\"Anterior\"),fesm2015_core.Pb()}}function CheckoutComponent_button_15_Template(rf,ctx){if(1&rf){const _r503=fesm2015_core.Rb();fesm2015_core.Qb(0,\"button\",96),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r503),fesm2015_core.dc().exitModal.emit()})),fesm2015_core.zc(1,\"Anterior\"),fesm2015_core.Pb()}}function CheckoutComponent_button_16_Template(rf,ctx){if(1&rf){const _r505=fesm2015_core.Rb();fesm2015_core.Qb(0,\"button\",97),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r505),fesm2015_core.dc().moveStep(\"next\")})),fesm2015_core.zc(1,\"Siguiente\"),fesm2015_core.Pb()}if(2&rf){const ctx_r469=fesm2015_core.dc();fesm2015_core.ic(\"ngStyle\",fesm2015_core.lc(2,_c3,\"finish\"===ctx_r469.steps[ctx_r469.currentStep].type?0:1))(\"disabled\",\"finish\"===ctx_r469.steps[ctx_r469.currentStep].type)}}function CheckoutComponent_button_17_Template(rf,ctx){if(1&rf){const _r507=fesm2015_core.Rb();fesm2015_core.Qb(0,\"button\",98),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r507),fesm2015_core.dc().onSubmit()})),fesm2015_core.Qb(1,\"strong\",99),fesm2015_core.zc(2,\"PAGAR\"),fesm2015_core.Pb(),fesm2015_core.Pb()}}const _c4=function(a0){return{\"checkout-panel__body__progress-bar__step__active\":a0}};let checkout_component_CheckoutComponent=(()=>{class CheckoutComponent{constructor(userService,checkoutService,formService,commonsService,convertService,router,toastr){this.userService=userService,this.checkoutService=checkoutService,this.formService=formService,this.commonsService=commonsService,this.convertService=convertService,this.router=router,this.toastr=toastr,this.formPaid=new fesm2015_core.n,this.exitModal=new fesm2015_core.n,this.downloadPdfOutput=new fesm2015_core.n,this.downloadWordOutput=new fesm2015_core.n,this.currentStep=0,this.loadingPayment=!0,this.idsOfFields=[\"card-element\",\"expirationDate\",\"cvv\"],this.paymentMethod=\"card\",this.paypalButtonCreated=!1,this.hide_lawyer_explanation=!0,this.hire_lawyer=!1,this.lawyer_price=29,this.steps=[{type:\"cart\",stepNum:0},{type:\"login\",stepNum:1},{type:\"payment\",stepNum:2},{type:\"finish\",stepNum:3}]}ngOnInit(){this.userService.isAuthenticated.subscribe(isAuthenticated=>{this.email=isAuthenticated?this.userService.getCurrentUser().email:\"\"}),this.form.fields[this.form.fields.length-1]&&(this.currentStep=this.form.fields[this.form.fields.length-1].checkoutProcess.phase,\"payment\"===this.steps[this.currentStep].type&&(this.currentStep=this.currentStep-1)),this.commonsService.isBrowser()&&(this.stripe=Stripe(environment.a.stripe_key))}moveStep(type){\"next\"===type?this.validateBeforeNextStep()&&(this.currentStep+=1):\"previous\"===type&&(this.currentStep-=1),this.form.fields[this.form.fields.length-1].checkoutProcess.phase=this.currentStep,this.paymentProcess()}validateBeforeNextStep(){if(\"login\"===this.steps[this.currentStep].type){if(\"\"===this.email)return this.emailInput.nativeElement.style.borderBottom=\"3px solid red\",this.toastr.error(\"Email no puede estar vacío\",\"Email vacío\",{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"}),!1;if(!this.conditions.nativeElement.checked)return this.toastr.error(\"Debe aceptar las condiciones de venta\",\"Aceptar\",{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"}),!1}return!0}goToAuth(){window.sessionStorage&&(window.sessionStorage[this.form.title]=JSON.stringify(this.form),this.router.navigate([\"/auth/login\"],{queryParams:{formPath:this.router.url.substring(this.router.url.lastIndexOf(\"/\")+1)}}))}onSubmit(){this.payWithCard()}onPaymentMethodSelected(method){this.paymentMethod=method,\"card\"===this.paymentMethod?this.paymentProcess():\"paypal\"===this.paymentMethod&&this.createPaypalButton()}paymentProcess(){\"payment\"===this.steps[this.currentStep].type?(this.commonsService.toggleSpinner(),this.loadingPayment=!1,this.checkoutService.getToken(this.form.id,this.hire_lawyer).subscribe(token=>{this.commonsService.toggleSpinner(),this.clientSecret=token.clientSecret;const elements=this.stripe.elements(),style={base:{fontSize:\"16px\",fontFamily:\"Lato\",fontWeight:\"300\",color:\"rgba(46, 46, 46, 0.8)\",\"::placeholder\":{transition:\"transition: 100ms linear\",fontWeight:\"300\",fontFamily:\"Lato\",color:\"#4ECDC4\"},\":focus\":{borderColor:\"#77db77\",borderBottom:\"3px solid #77db77\"},\"input:focus\":{\"border-color\":\"#77db77\",\"border-bottom\":\"3px solid #77db77\"}},invalid:{fontFamily:\"Arial, sans-serif\",color:\"#fa755a\",iconColor:\"#fa755a\"}};this.cardNumber=elements.create(\"cardNumber\",{style:style}),this.cardExpiry=elements.create(\"cardExpiry\",{style:style}),this.cardCvc=elements.create(\"cardCvc\",{style:style}),this.cardNumber.mount(\"#card-element\"),this.cardExpiry.mount(\"#expirationDate\"),this.cardCvc.mount(\"#cvv\"),[this.cardNumber,this.cardExpiry,this.cardCvc].forEach((input,index)=>{const elementContainer=document.getElementById(this.idsOfFields[index]);input.on(\"focus\",()=>{elementContainer.classList.add(\"hosted-fields-stripe__focused\")}),input.on(\"blur\",()=>{elementContainer.classList.remove(\"hosted-fields-stripe__focused\")}),input.on(\"change\",event=>{event.error?(elementContainer.classList.add(\"hosted-fields-stripe__invalid\"),elementContainer.nextElementSibling.hidden=!1):(elementContainer.classList.remove(\"hosted-fields-stripe__invalid\"),elementContainer.nextElementSibling.hidden=!0)})})})):this.loadingPayment=!0}payWithCard(){this.commonsService.toggleSpinner(),this.stripe.confirmCardPayment(this.clientSecret,{payment_method:{card:this.cardNumber,billing_details:{name:this.cardholdersName}}}).then(result=>{this.commonsService.toggleSpinner(),result.error?this.toastr.error(result.error.message,\"Error en el pago\",{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"}):this.checkoutService.pay(JSON.stringify(this.form.fields),this.email,result.paymentIntent.id,this.form.id,this.paymentMethod,this.hire_lawyer).subscribe(data=>{data.transaction?(this.moveStep(\"next\"),this.onPaymentCompleted(data.transaction.transactionId),this.toastr.success(\"Pago completado\",\"Finalizado\",{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"})):this.commonsService.toggleSpinner()})})}onPaymentCompleted(transactionId){this.transactionId=transactionId,this.formService.getPaidCertifiedForm(transactionId).subscribe(data=>{data.certifiedForm.transactionId=transactionId,this.formPaid.emit(data.certifiedForm)})}createPaypalButton(){this.commonsService.toggleSpinner(),this.checkoutService.getPaypalOrder(this.form.id,this.hire_lawyer).subscribe(data=>{this.paypalButton(data.orderID)})}paypalButton(orderId){paypal.Buttons({style:{layout:\"horizontal\",size:\"large\",shape:\"pill\",tagline:!0},createOrder:()=>orderId,onApprove:(data,actions)=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.commonsService.toggleSpinner();const order=yield actions.order.capture();this.checkoutService.pay(JSON.stringify(this.form.fields),this.email,order.id,this.form.id,this.paymentMethod,this.hire_lawyer).subscribe(datados=>{datados.transaction?(this.moveStep(\"next\"),this.onPaymentCompleted(datados.transaction.transactionId),this.toastr.success(\"Pago completado\",\"Finalizado\",{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"}),this.commonsService.toggleSpinner()):this.commonsService.toggleSpinner()})})),onError:err=>{console.log(err)}}).render(document.getElementById(\"paypal-button\")),setTimeout(()=>{this.commonsService.toggleSpinner()},2e3)}downloadWord(){this.downloadWordOutput.emit()}downloadPdf(){this.downloadPdfOutput.emit()}}return CheckoutComponent.ɵfac=function(t){return new(t||CheckoutComponent)(fesm2015_core.Lb(core.v),fesm2015_core.Lb(core.c),fesm2015_core.Lb(core.k),fesm2015_core.Lb(core.e),fesm2015_core.Lb(core.g),fesm2015_core.Lb(fesm2015_router.d),fesm2015_core.Lb(ngx_toastr.b))},CheckoutComponent.ɵcmp=fesm2015_core.Fb({type:CheckoutComponent,selectors:[[\"app-checkout\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(fesm2015_core.Dc(_c0,!0),fesm2015_core.Dc(_c1,!0),fesm2015_core.Dc(_c2,!0)),2&rf&&(fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.emailInput=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.conditions=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.cardField=_t.first))},inputs:{form:\"form\"},outputs:{formPaid:\"formPaid\",exitModal:\"exitModal\",downloadPdfOutput:\"downloadPdfOutput\",downloadWordOutput:\"downloadWordOutput\"},decls:18,vars:18,consts:[[1,\"modal__content__top\",\"modal__content__top--privacy\"],[1,\"checkout-panel__body__progress-bar\"],[1,\"checkout-panel__body__progress-bar__step\",\"checkout-panel__body__progress-bar__step__active\"],[1,\"checkout-panel__body__progress-bar__step\",3,\"ngClass\"],[\"id\",\"modal-middle-privacy\",1,\"modal__content__modal-middle\",\"modal__content__modal-middle--privacy\",2,\"border-bottom\",\"none\"],[1,\"modal__content__modal-middle__container\"],[\"class\",\"checkout-panel__body__invoice\",4,\"ngIf\"],[\"class\",\"checkout-panel__body__email\",4,\"ngIf\"],[\"class\",\"payment-container\",4,\"ngIf\"],[\"class\",\"checkout-panel__body__success\",4,\"ngIf\"],[1,\"modal__content__modal-bottom\",\"modal__content__modal-bottom--privacy\",\"checkout-panel__footer\"],[\"class\",\"btn back-btn\",3,\"ngStyle\",\"display\",\"disabled\",\"click\",4,\"ngIf\"],[\"class\",\"btn back-btn\",3,\"click\",4,\"ngIf\"],[\"class\",\"btn next-btn\",3,\"ngStyle\",\"disabled\",\"click\",4,\"ngIf\"],[\"class\",\"btn next-btn secondaryC-background-color\",3,\"click\",4,\"ngIf\"],[1,\"checkout-panel__body__invoice\"],[1,\"checkout-panel__body__invoice__container\"],[1,\"checkout-panel__body__invoice__text\"],[1,\"checkout-panel__body__invoice__text__doc\"],[1,\"checkout-panel__body__invoice__text__doc__title\"],[1,\"checkout-panel__body__invoice__text__doc__title__contract\"],[1,\"checkout-panel__body__invoice__text__doc__title__more\"],[1,\"checkout-panel__body__invoice__text__doc__price\"],[1,\"checkout-panel__body__invoice__text__lawyer\"],[1,\"checkout-panel__body__invoice__text__lawyer__description\"],[\"for\",\"hire\",3,\"click\"],[\"type\",\"checkbox\",\"name\",\"hire_lawyer\",\"id\",\"hire_lawyer\",1,\"filled-in\",3,\"checked\"],[1,\"checkout-panel__body__invoice__text__lawyer__more\",3,\"click\"],[1,\"checkout-panel__body__invoice__text__lawyer__precio\"],[1,\"checkout-panel__body__invoice__text__more-info-lawyer\",\"fade-in\",3,\"hidden\"],[1,\"checkout-panel__body__invoice__text__more-info-lawyer__close\"],[\"type\",\"button\",\"aria-label\",\"Close\",1,\"close\",3,\"click\"],[\"aria-hidden\",\"true\"],[1,\"checkout-panel__body__invoice__text__more-info-lawyer__content\"],[1,\"checkout-panel__body__invoice__text__total\"],[1,\"checkout-panel__body__invoice__text__total__right\"],[1,\"checkout-panel__body__invoice__text__total__left\"],[1,\"checkout-panel__body__invoice__text__more-info\"],[\"src\",\"/assets/images/ssl-secure-en.png\",\"alt\",\"secure payment\"],[\"href\",\"https://stripe.com/\",\"target\",\"_blank\"],[\"src\",\"/assets/images/stripe-logo.png\"],[1,\"checkout-panel__body__email\"],[1,\"checkout-panel__body__email__container\"],[1,\"checkout-panel__body__email__container__title\"],[\"for\",\"email\"],[\"type\",\"email\",\"name\",\"email\",\"id\",\"name\",\"placeholder\",\"Email\",3,\"ngModel\",\"ngModelChange\"],[\"emailInput\",\"\"],[\"class\",\"checkout-panel__body__email__container__message\",4,\"appShowAuthed\"],[4,\"appShowAuthed\"],[1,\"checkout-panel__body__email__container__message\"],[\"for\",\"conditions\"],[\"type\",\"checkbox\",\"name\",\"conditions\",\"id\",\"conditions\",1,\"filled-in\",3,\"ngModel\",\"ngModelChange\"],[\"conditions\",\"\"],[\"routerLink\",\"/static/cgv\",\"target\",\"_blank\",1,\"trigger\"],[\"href\",\"javascript:void(0)\",3,\"click\"],[1,\"payment-container\"],[\"class\",\"checkout-panel__body__payment-method\",4,\"ngIf\"],[\"class\",\"checkout-panel__body__input-fields\",\"id\",\"payment-form\",4,\"ngIf\"],[\"style\",\"height: 200px; margin-left: auto;margin-right:auto; display: flex;align-items: center;\",4,\"ngIf\"],[1,\"checkout-panel__body__payment-method\"],[\"for\",\"card\",1,\"checkout-panel__body__payment-method__method\",\"card\"],[1,\"checkout-panel__body__payment-method__method__card-logos\"],[\"src\",\"https://designmodo.com/demo/checkout-panel/img/visa_logo.png\"],[\"src\",\"https://designmodo.com/demo/checkout-panel/img/mastercard_logo.png\"],[1,\"checkout-panel__body__payment-method__method__radio-input\"],[\"id\",\"card\",\"type\",\"radio\",\"name\",\"payment\",\"value\",\"card\",\"checked\",\"\",3,\"change\"],[\"for\",\"paypal\",1,\"checkout-panel__body__payment-method__method\",\"paypal\"],[\"src\",\"https://designmodo.com/demo/checkout-panel/img/paypal_logo.png\"],[\"id\",\"paypal\",\"type\",\"radio\",\"name\",\"payment\",\"value\",\"paypal\",3,\"change\"],[\"id\",\"payment-form\",1,\"checkout-panel__body__input-fields\"],[1,\"checkout-panel__body__input-fields__column-1\"],[\"for\",\"cardholder-name\",\"name\",\"cardholderName\",1,\"hosted-field--label\"],[\"type\",\"text\",\"id\",\"cardholder\",\"placeholder\",\"P. ej: Juan Pérez Álvarez\",\"name\",\"cardholderName\",1,\"name-custom-input\",3,\"ngModel\",\"ngModelChange\"],[1,\"checkout-panel__body__input-fields__small-inputs\"],[\"for\",\"expirationDate\"],[\"id\",\"expirationDate\",1,\"hosted-fields-stripe\"],[\"dateField\",\"\"],[\"hidden\",\"\",1,\"secondary-color\"],[\"for\",\"cvv\"],[\"id\",\"cvv\",\"name\",\"cvv\",1,\"hosted-fields-stripe\"],[\"cvv\",\"\"],[1,\"checkout-panel__body__input-fields__column-2\"],[\"for\",\"number\"],[\"id\",\"card-element\",1,\"hosted-fields-stripe\"],[\"cardField\",\"\"],[1,\"info\"],[2,\"height\",\"200px\",\"margin-left\",\"auto\",\"margin-right\",\"auto\",\"display\",\"flex\",\"align-items\",\"center\"],[\"id\",\"paypal-button\",2,\"width\",\"300px\"],[1,\"checkout-panel__body__success\"],[1,\"checkout-panel__body__invoice__text__total__right\",\"total-success\"],[1,\"checkout-panel__body__invoice__text__total__left\",\"total-success\"],[1,\"checkout-panel__body__success__message\"],[1,\"checkout-panel__body__success__download\"],[1,\"icon\",\"icon-file-word-solid\",\"trigger\",3,\"click\"],[1,\"icon\",\"icon-file-pdf-solid\",3,\"click\"],[1,\"btn\",\"back-btn\",3,\"ngStyle\",\"disabled\",\"click\"],[1,\"btn\",\"back-btn\",3,\"click\"],[1,\"btn\",\"next-btn\",3,\"ngStyle\",\"disabled\",\"click\"],[1,\"btn\",\"next-btn\",\"secondaryC-background-color\",3,\"click\"],[2,\"text-shadow\",\"1px 1px 4px #000000\"]],template:function(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1),fesm2015_core.Mb(2,\"div\",2),fesm2015_core.Mb(3,\"div\",3),fesm2015_core.Mb(4,\"div\",3),fesm2015_core.Mb(5,\"div\",3),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",4),fesm2015_core.Qb(7,\"div\",5),fesm2015_core.yc(8,CheckoutComponent_div_8_Template,45,6,\"div\",6),fesm2015_core.yc(9,CheckoutComponent_div_9_Template,17,4,\"div\",7),fesm2015_core.yc(10,CheckoutComponent_div_10_Template,4,3,\"div\",8),fesm2015_core.yc(11,CheckoutComponent_div_11_Template,18,4,\"div\",9),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(12,\"div\",10),fesm2015_core.yc(13,CheckoutComponent_button_13_Template,2,6,\"button\",11),fesm2015_core.yc(14,CheckoutComponent_button_14_Template,2,0,\"button\",12),fesm2015_core.yc(15,CheckoutComponent_button_15_Template,2,0,\"button\",12),fesm2015_core.yc(16,CheckoutComponent_button_16_Template,2,4,\"button\",13),fesm2015_core.yc(17,CheckoutComponent_button_17_Template,3,0,\"button\",14),fesm2015_core.Pb()),2&rf&&(fesm2015_core.zb(3),fesm2015_core.ic(\"ngClass\",fesm2015_core.lc(12,_c4,ctx.steps[ctx.currentStep].stepNum>0)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngClass\",fesm2015_core.lc(14,_c4,ctx.steps[ctx.currentStep].stepNum>1)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngClass\",fesm2015_core.lc(16,_c4,ctx.steps[ctx.currentStep].stepNum>2)),fesm2015_core.zb(3),fesm2015_core.ic(\"ngIf\",\"cart\"===ctx.steps[ctx.currentStep].type),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"login\"===ctx.steps[ctx.currentStep].type),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"payment\"===ctx.steps[ctx.currentStep].type),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"finish\"===ctx.steps[ctx.currentStep].type),fesm2015_core.zb(2),fesm2015_core.ic(\"ngIf\",\"finish\"!==ctx.steps[ctx.currentStep].type),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"cart\"===ctx.steps[ctx.currentStep].type),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"finish\"===ctx.steps[ctx.currentStep].type),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"payment\"!==ctx.steps[ctx.currentStep].type),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"payment\"===ctx.steps[ctx.currentStep].type&&\"card\"===ctx.paymentMethod))},directives:[common.q,common.t,external_link_directive.a,fesm2015_forms.c,fesm2015_forms.q,fesm2015_forms.t,show_authed_directive.a,fesm2015_forms.a,fesm2015_router.g,fesm2015_forms.G,fesm2015_forms.r,fesm2015_forms.s,common.w],encapsulation:2}),CheckoutComponent})();var BehaviorSubject=__webpack_require__(\"2Vo4\"),distinctUntilChanged=__webpack_require__(\"/uUt\");let shared_service_SharedService=(()=>{class SharedService{constructor(){this.currentFormSubject=new BehaviorSubject.a({}),this.currentForm=this.currentFormSubject.asObservable().pipe(Object(distinctUntilChanged.a)())}setForm(form){this.currentFormSubject.next(Object.assign({},form))}getCurrentForm(){return this.currentFormSubject.value}}return SharedService.ɵfac=function(t){return new(t||SharedService)},SharedService.ɵprov=fesm2015_core.Hb({token:SharedService,factory:SharedService.ɵfac}),SharedService})();var localfileeditor=__webpack_require__(\"KlD3\");let doc_creator_service_DocCreatorService=(()=>{class DocCreatorService{constructor(commonsService,convertService){this.commonsService=commonsService,this.convertService=convertService,this.scrollToelement=!1}init(uri){return this.createEditorFromURI(\"fillForm\",\"editorContainer\",uri),new Promise((resolve,reject)=>{const checkIfEditorCreated=setInterval(()=>{window.editor&&window.editor.getEditorSession()&&document.getElementsByTagName(\"office:text\").length&&(this.originalDocumentBodyClone=document.getElementsByTagName(\"office:text\")[0].cloneNode(!0),clearInterval(checkIfEditorCreated),resolve(\"Document ready\"))},20)})}destroy(){this.commonsService.isBrowser()&&(localfileeditor.a(),window.removeEventListener(\"resize\",this.resizeEvent))}createEditorFromURI(formType,idOfContainer=\"editorContainer\",dataURI){const byteString=atob(dataURI.split(\",\")[1]),mimeString=dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0],ab=new ArrayBuffer(byteString.length),ia=new Uint8Array(ab);for(let i=0;i<byteString.length;i++)ia[i]=byteString.charCodeAt(i);const blob=new Blob([ab],{type:mimeString}),url=URL.createObjectURL(blob);window.DOCUMENTOURL=url,localfileeditor.c(formType,idOfContainer)}getEditorSession(){return localfileeditor.f()}saveUri(){const reader=new FileReader;return new Promise((resolve,reject)=>{localfileeditor.e().getDocumentAsByteArray((err,data)=>{if(err)return void alert(err);const blob=new Blob([data.buffer],{type:\"application/vnd.oasis.opendocument.text\"});reader.readAsDataURL(blob),reader.onloadend=()=>{resolve(reader.result)}})})}resizeDocumentContainer(){this.resizeEvent=()=>{setTimeout(()=>{document.getElementById(\"webodfeditor-editor1\").style.height=\"100%\",document.getElementById(\"webodfeditor-editor1\").style.width=\"100%\",localfileeditor.d()},100)},window.addEventListener(\"resize\",this.resizeEvent),localfileeditor.d()}buildDocument(steps,scrollToElement,buildJustReplacements=!1){this.currentDocumentBodyClone=this.originalDocumentBodyClone.cloneNode(!0),buildJustReplacements?(this.currentDocumentBodyClone=this.documentBodyCloneJustForReplacements.cloneNode(!0),this.currentDocumentBodyClone.querySelectorAll(\".highlight-disapear\").forEach(element=>{element.classList.remove(\"highlight-disapear\"),element.classList.remove(\"focused\")})):this.structuralChanges(steps),this.replacements(steps),document.getElementsByTagName(\"office:text\")[0].parentElement.replaceChild(this.currentDocumentBodyClone.cloneNode(!0),document.getElementsByTagName(\"office:text\")[0]),this.getEditorSession().getOdfCanvas().refreshSize(),scrollToElement&&this.scrollToElementWithClass(\"focused\")}scrollToElementWithClass(className,offset=0){const element=document.querySelector(\".\"+className);if(element){const cont=document.getElementById(\"webodfeditor-canvascontainer1\"),h=cont.clientHeight/2,elementTop=element.getBoundingClientRect().top;cont.scrollTo({top:cont.scrollTop+elementTop-h,behavior:\"smooth\"})}}dateToSpanishFormat(dateSelected){const dateSelectedObject=new Date(dateSelected);let dateToReturn=\"\";return dateSelected&&(dateToReturn=dateSelectedObject.toLocaleDateString(\"es-ES\",{year:\"numeric\",month:\"long\",day:\"numeric\"})),dateToReturn}showIndicationInsideText(wordToReplace,indications){const elementContainingWord=document.querySelector(`[data-identifier=${wordToReplace}]`),para=document.createElement(\"div\");para.innerHTML=`<div class=\"indicator-content not-selectable\">\\n                        <button id=\"close-indication\">&#10006;</button>\\n                        <span class=\"not-selectable\" style=\"margin:auto; width:100%\">${indications}\\n                        </span>\\n                    </div>`,para.style.top=elementContainingWord.getBoundingClientRect().top.toString(),para.style.left=elementContainingWord.getBoundingClientRect().left.toString(),para.classList.add(\"indicator\"),para.classList.add(\"smooth-intro\"),para.classList.add(\"not-selectable\"),elementContainingWord.appendChild(para);const removeIndication=e=>{window.innerWidth>885?e.target.classList.contains(\"icon-info-circle-solid\")||e.target.classList.contains(\"indication\")?document.querySelectorAll(\".indicator\").length>=2&&(para.parentNode.removeChild(para),window.removeEventListener(\"click\",removeIndication)):(para.parentNode.removeChild(para),window.removeEventListener(\"click\",removeIndication)):\"scrollToTop\"!==e.target.id&&\"close-indication\"!==e.target.id||(para.parentNode.removeChild(para),window.removeEventListener(\"click\",removeIndication))};window.addEventListener(\"click\",removeIndication),this.scrollToElementWithClass(\"indicator\",para.offsetHeight)}structuralChanges(steps){steps.forEach(step=>{\"iRadioC\"===step.type?this.buildForRadioC(step):\"iCheckbox\"===step.type?this.buildForCheckbox(step):\"iForEach\"===step.type&&this.buildForEach(step)}),this.documentBodyCloneJustForReplacements=this.currentDocumentBodyClone.cloneNode(!0)}buildForEach(step){step.content.forEach(content=>{const elementContainingWord=this.findword(content.wordToReplace);if(elementContainingWord.textContent===content.wordToReplace)content.modifiedReplacements.slice().reverse().forEach((modifiedReplacement,index)=>{let exactElementContainingWord;const regexp=new RegExp(step.wordToReplace,\"g\");if(index!==content.modifiedReplacements.length-1){const elementContainingWordClone=elementContainingWord.cloneNode(!0);if(elementContainingWord.parentNode.insertBefore(elementContainingWordClone,elementContainingWord.nextSibling),step.forEachFocused){const newSpan=document.createElement(\"span\");for(newSpan.classList.add(\"highlight-disapear\",\"focused\"),elementContainingWordClone.childNodes.forEach(child=>{newSpan.appendChild(child)});elementContainingWordClone.firstChild;)elementContainingWordClone.removeChild(elementContainingWordClone.firstChild);elementContainingWordClone.appendChild(newSpan)}exactElementContainingWord=elementContainingWordClone}else exactElementContainingWord=elementContainingWord;exactElementContainingWord=this.findExactContainingElement(step.wordToReplace,exactElementContainingWord),exactElementContainingWord.innerHTML=exactElementContainingWord.innerHTML.replace(regexp,modifiedReplacement)}),content.modifiedExtraReplacements.slice().reverse().forEach((modifiedExtraReplacement,index)=>{modifiedExtraReplacement.forEach(modifiedExtraReplacementArray=>{const elementContainingWord2=this.findword(modifiedExtraReplacementArray[0].identifier);modifiedExtraReplacementArray.slice().reverse().forEach((modifiedReplacement,indexNewArray3)=>{let exactElementContainingWord2;const regexp=new RegExp(modifiedReplacement.identifier,\"g\");if(indexNewArray3!==modifiedExtraReplacementArray.length-1){const elementContainingWordClone=elementContainingWord2.cloneNode(!0);elementContainingWord2.parentNode.insertBefore(elementContainingWordClone,elementContainingWord2.nextSibling),exactElementContainingWord2=this.findExactContainingElement(modifiedReplacement.identifier,elementContainingWordClone)}else exactElementContainingWord2=this.findExactContainingElement(modifiedReplacement.identifier,elementContainingWord2);exactElementContainingWord2.innerHTML=exactElementContainingWord2.innerHTML.replace(regexp,modifiedReplacement.replacement)})})});else if(elementContainingWord.textContent.includes(content.wordToReplace)&&elementContainingWord.childElementCount<=1){const newarray=content.modifiedReplacements.slice().reverse(),regexp=new RegExp(step.wordToReplace,\"g\"),textContent=elementContainingWord.textContent,firstHalfString=textContent.slice(0,textContent.indexOf(content.wordToReplace));let secondHalfStringWithoutWordtoReplace=textContent.slice(textContent.indexOf(content.wordToReplace),textContent.length).replace(regexp,\"\");newarray.forEach((modifiedReplacement,index)=>{secondHalfStringWithoutWordtoReplace=modifiedReplacement+secondHalfStringWithoutWordtoReplace}),elementContainingWord.innerHTML=`<span>${firstHalfString+secondHalfStringWithoutWordtoReplace}</span>`}}),step.forEachFocused=!1}buildForRadioC(step){let elementContainingWord=this.findword(step.wordToReplace);const regexp=new RegExp(step.wordToReplace,\"g\");let replacement;for(step.radios.forEach(radio=>{radio.checked&&(replacement=step.isFocused||step.radioCfocused?`<span class=\"highlight-disapear focused\">${radio.replacement}</span>`:radio.replacement,step.extraReplacements.forEach((extraReplacement,index)=>{const regexp2=new RegExp(extraReplacement.wordToReplace,\"g\"),elementContainingReplacementWord=this.findword(extraReplacement.wordToReplace),exactElementContainingReplacementWord=this.findExactContainingElement(extraReplacement.wordToReplace,elementContainingReplacementWord);let replacement2;radio.extraReplacements.forEach(radioExtraReplacement=>{radioExtraReplacement.insideId===extraReplacement.insideId&&(replacement2=radioExtraReplacement.replacement)}),exactElementContainingReplacementWord.innerHTML=exactElementContainingReplacementWord.innerHTML.replace(regexp2,replacement2)}))}),elementContainingWord=this.findExactContainingElement(step.wordToReplace,elementContainingWord);null!==elementContainingWord.firstElementChild&&!this.allElementsAreBr(elementContainingWord);)elementContainingWord=elementContainingWord.firstElementChild;elementContainingWord.innerHTML=elementContainingWord.innerHTML.replace(regexp,replacement),step.radioCfocused=!1}allElementsAreBr(elementContainingWord){let allElementsAreBr=!0;const children=elementContainingWord.children;for(let i;i<children.length;i++)\"BR\"!==children[i].tagName&&(allElementsAreBr=!1);return children.length||(allElementsAreBr=!1),allElementsAreBr}buildForCheckbox(step){const elementContainingWord=this.findword(step.wordToReplace);let replacement=step.replacement;step.checkboxes.forEach(checkbox=>{if(step.replacement.includes(checkbox.wordToReplace))if(checkbox.checked){const regexp=new RegExp(checkbox.wordToReplace,\"g\");replacement=replacement.replace(regexp,checkbox.replacement)}else{const regexp=new RegExp(checkbox.wordToReplace,\"g\");replacement=replacement.replace(regexp,\"\")}}),elementContainingWord.innerHTML===step.wordToReplace&&(elementContainingWord.innerHTML=replacement)}replacements(steps){steps.forEach(step=>{if(\"iText\"===step.type||\"iDate\"===step.type||\"iNumber\"===step.type){const elementsContainingWord=this.findAllwords(step.wordToReplace),regexp=new RegExp(step.wordToReplace,\"g\");elementsContainingWord.forEach(elementContainingWord=>{let element=elementContainingWord,replacement=step.replacement;element.innerHTML!==step.wordToReplace&&(element=this.findExactContainingElement(step.wordToReplace,element)),\"iDate\"===step.type&&(replacement=this.dateToSpanishFormat(step.replacement)),step.isEmpty&&(\"\"!==step.replacement?(step.isEmpty.prepend&&(replacement.slice(0,step.isEmpty.prepend.length)===step.isEmpty.prepend&&(replacement=replacement.slice(step.isEmpty.prepend.length,replacement.length)),replacement=step.isEmpty.prepend+replacement),step.isEmpty.append&&(replacement.slice(-step.isEmpty.append.length)===step.isEmpty.append&&(replacement=replacement.slice(0,-step.isEmpty.prepend.length)),replacement+=step.isEmpty.append)):step.isEmpty.defaultValue&&(replacement=step.isEmpty.defaultValue)),element&&(element.innerHTML=element.innerHTML.replace(regexp,`<span class=\"${step.isFocused?\"highlight focused\":\"\"}\" data-identifier=\"${step.wordToReplace}\">${replacement}</span>`))})}else if(\"iRadioB\"===step.type){const elementsContainingWord=this.findAllwords(step.wordToReplace);let replacement;const regexp=new RegExp(step.wordToReplace,\"g\");elementsContainingWord.forEach(elementContainingWord=>{step.radios.forEach(radio=>{if(radio.checked){replacement=radio.replacement;let element=elementContainingWord;element.innerHTML!==step.wordToReplace&&(element=this.findExactContainingElement(step.wordToReplace,element)),element&&(element.innerHTML=element.innerHTML.replace(regexp,`<span class=\" ${step.isFocused?\"highlight focused\":\"\"}\" data-identifier=\"${step.wordToReplace}\">${step.replacement}</span>`))}})})}step.extraReplacements&&step.extraReplacements.length&&step.extraReplacements.forEach(extraReplacement=>{const elementsContainingWord=this.findAllwords(extraReplacement.wordToReplace),regexp=new RegExp(extraReplacement.wordToReplace,\"g\");elementsContainingWord.forEach(elementContainingWord=>{let element=elementContainingWord,replacement=extraReplacement.replacement;element.innerHTML!==extraReplacement.wordToReplace&&(element=this.findExactContainingElement(extraReplacement.wordToReplace,element)),element&&(element.innerHTML=element.innerHTML.replace(regexp,`<span class=\"${extraReplacement.isFocused?\"highlight focused\":\"\"}\" data-identifier=\"${extraReplacement.wordToReplace}\">${replacement}</span>`))})})})}findword(wordToReplace,bodyClone=this.currentDocumentBodyClone){const children=bodyClone.childNodes;for(let i=0;i<children.length;i++)if(!this.elementIsExcluded(children[i])&&(children[i].innerHTML.includes(wordToReplace)||children[i].textContent.includes(wordToReplace)))return children[i]}findAllwords(wordToReplace,bodyClone=this.currentDocumentBodyClone){const allEelementsContainingWord=[],children=bodyClone.childNodes;for(let i=0;i<children.length;i++)this.elementIsExcluded(children[i])||children[i].innerHTML.includes(wordToReplace)&&allEelementsContainingWord.push(children[i]);return allEelementsContainingWord}findExactContainingElement(wordToReplace,bodyClone){let element=bodyClone;for(;element.childNodes&&element.childNodes.length>0&&element.innerHTML.includes(wordToReplace);)element.childNodes.forEach(el=>{\"#text\"!==el.nodeName?el.innerHTML.includes(wordToReplace)&&(element=el):el.textContent.includes(wordToReplace)&&(element=el)});return\"#text\"===element.nodeName&&(element=element.parentNode),element}elementIsExcluded(element){return[\"office:text\",\"text:sequence-decls\",\"text:sequence-decl\",\"draw:frame\",\"draw:image\",\"office:annotation\",\"office:annotation-end\",\"dc:creator\",\"dc:date\"].includes(element.nodeName)}downloadWord(formId,formURI){this.commonsService.toggleSpinner(),this.saveUri().then(uri=>{this.convertService.toWord(formId,uri).subscribe(data=>{const byteString=atob(data.word.split(\",\")[1]),mimeString=data.word.split(\",\")[0].split(\":\")[1].split(\";\")[0],ab=new ArrayBuffer(byteString.length),ia=new Uint8Array(ab);for(let i=0;i<byteString.length;i++)ia[i]=byteString.charCodeAt(i);const blob=new Blob([ab],{type:mimeString}),url=URL.createObjectURL(blob);console.log(url);const a=document.createElement(\"a\");a.href=url,a.download=\"word.doc\",a.click(),this.commonsService.toggleSpinner()})})}downloadPdf(formId,formURI){this.commonsService.toggleSpinner(),this.saveUri().then(uri=>{this.convertService.toPdf(formId,uri).subscribe(data=>{const byteString=atob(data.pdf.split(\",\")[1]),mimeString=data.pdf.split(\",\")[0].split(\":\")[1].split(\";\")[0],ab=new ArrayBuffer(byteString.length),ia=new Uint8Array(ab);for(let i=0;i<byteString.length;i++)ia[i]=byteString.charCodeAt(i);const blob=new Blob([ab],{type:mimeString}),url=URL.createObjectURL(blob);console.log(url);const a=document.createElement(\"a\");a.href=url,a.download=\"document.pdf\",a.click(),this.commonsService.toggleSpinner()})})}}return DocCreatorService.ɵfac=function(t){return new(t||DocCreatorService)(fesm2015_core.Vb(core.e),fesm2015_core.Vb(core.g))},DocCreatorService.ɵprov=fesm2015_core.Hb({token:DocCreatorService,factory:DocCreatorService.ɵfac}),DocCreatorService})(),step_service_StepsService=(()=>{class StepsService{constructor(documentCreatorService,commonsService){this.documentCreatorService=documentCreatorService,this.commonsService=commonsService}init(steps){this.steps=steps,this.cacheSteps=JSON.parse(JSON.stringify(this.steps))}refreshCache(){this.cacheSteps=JSON.parse(JSON.stringify(this.steps))}setInitialState(){if(!this.steps[0].inited){const buildSteps=()=>{this.steps.forEach(step=>{switch((step=JSON.parse(JSON.stringify(step))).type){case\"start\":step.inited=!0;break;case\"iText\":case\"iNumber\":case\"iDate\":this.input(step.replacement,step.wordToReplace,!1);break;case\"iForEach\":this.buildForEach(step.value,step.wordToReplace,!1);break;case\"iRadioB\":step.radios.forEach(radio=>{radio.checked&&this.onInputRadioBSelected(radio.radioId,step.wordToReplace,!1,!0)});break;case\"iRadioC\":let noneIsChecked=!0;step.radios.forEach(radio=>{radio.checked&&(noneIsChecked=!1,this.onInputRadioCSelected(radio.radioId,step.wordToReplace,!1))}),noneIsChecked&&this.onInputRadioCSelected(step.defaultRadioId,step.wordToReplace,!1)}})};for(let i=0;i<5;i++)buildSteps()}this.buildDocument(!1)}buildDocument(scrollToElement=!0,buildJustReplacements=!1,checkCache=!1){checkCache&&this.checkCache(),this.documentCreatorService.buildDocument(this.steps,scrollToElement,buildJustReplacements)}checkCache(){this.steps.forEach(step=>{this.checkIfIsOfType([\"iText\",\"iNumber\",\"iDate\",\"iRadioB\"],step)&&this.cacheSteps.forEach(cacheStep=>{step.wordToReplace===cacheStep.wordToReplace&&(\"iRadioB\"===step.type?cacheStep.radios.forEach(radio=>{radio.checked&&this.onInputRadioBSelected(radio.radioId,step.wordToReplace,!1,!0)}):step.replacement=cacheStep.replacement)})})}checkIfIsOfType(types,step){return types.forEach(type=>{if(step.type===type)return!0}),!1}input(replacement,wordToReplace,buildDocumentAfter=!0,buildJustReplacements=!1){const{step:step,index:index}=this.findStep(wordToReplace,!0,\"wordToReplace\");step.replacement=replacement,step.isFocused=!0,\"iNumber\"===step.type&&this.rulesForInumber(step,index),buildDocumentAfter&&this.buildDocument(!0,buildJustReplacements)}findStep(wordToReplace,setFocus,identifierToUse){let stepFound,indexFound;return this.steps.forEach((step,index)=>{step[identifierToUse]===wordToReplace?(stepFound=step,indexFound=index):setFocus&&(step.isFocused=!1)}),{step:stepFound,index:indexFound}}rulesForInumber(step,index){step.rules&&step.rules.length&&step.rules.forEach(rule=>{\"extraReplacementToCharacter\"===rule.rulename&&step.extraReplacements&&this.extraReplacementToCharacter(step,rule),\"extraReplacementAletras\"===rule.rulename&&step.extraReplacements&&this.extraReplacementAletras(step,rule)})}extraReplacementToCharacter(step,rule){step.extraReplacements.forEach((extraReplacement,i)=>{extraReplacement.wordToReplace===rule.wordToReplace&&step.extraReplacements.splice(i,1)}),step.extraReplacements.push({wordToReplace:rule.wordToReplace,replacement:this.commonsService.precioALetras(step.replacement,{plural:\"euros\",singular:\"euro\",centPlural:\"centavos\",centSingular:\"centavo\"})})}extraReplacementAletras(step,rule){step.extraReplacements.forEach((extraReplacement,i)=>{extraReplacement.wordToReplace===rule.wordToReplace&&step.extraReplacements.splice(i,1)}),step.extraReplacements.push({wordToReplace:rule.wordToReplace,replacement:this.commonsService.numeroALetras(step.replacement)})}buildForEach(value,wordToReplace,buildDocumentAfter=!0,forEachFocused=!1,checkCache=!1){const refreshRadioBSteps=[],refreshRadioCSteps=[],{step:step,index:index}=this.findStep(wordToReplace,!1,\"wordToReplace\");step.forEachFocused=forEachFocused,step.value=value,this.cleanPreviouslyAddedSteps(index,step.identifier),step.content.forEach((content,contentIndex)=>{content.modifiedReplacements=[],content.modifiedExtraReplacements=[];const modifiedExtraReplacements=[];content.extraReplacements.forEach(()=>{modifiedExtraReplacements.push([])});for(let i=0;i<parseInt(value);i++){let modifiedReplacement=content.replacementOriginal;content.extraReplacements.forEach((extraReplacement,indexOfExtraReplace)=>{modifiedExtraReplacements[indexOfExtraReplace].push({identifier:extraReplacement.identifier,replacement:extraReplacement.replacementOriginal})}),content.subSteps.forEach((subStep,subStepIndex)=>{const newIndentifier=step.identifier+subStep.identifier+i.toString()+subStepIndex.toString();modifiedReplacement=modifiedReplacement.replace(subStep.identifier,newIndentifier),content.extraReplacements.forEach((extraReplacement,indexOfExtraReplace)=>{const subStepExtraReplacement=subStep.extraReplacements[indexOfExtraReplace],modifiedExtraReplacement=modifiedExtraReplacements[indexOfExtraReplace][i];modifiedExtraReplacement.wordToReplace=extraReplacement.identifier+i.toString()+subStepIndex.toString();const newIndentifier2=step.identifier+subStepExtraReplacement.identifier+i.toString()+subStepIndex.toString();modifiedExtraReplacement.replacement=modifiedExtraReplacement.replacement.replace(subStepExtraReplacement.identifier,newIndentifier2),subStepExtraReplacement.wordToReplace=newIndentifier2,subStepExtraReplacement.identifier=newIndentifier2});let copySubStep=JSON.parse(JSON.stringify(subStep));this.cacheSteps.forEach(cachedStep=>{cachedStep.wordToReplace==newIndentifier&&(copySubStep=JSON.parse(JSON.stringify(cachedStep)),copySubStep.cached=!0)}),copySubStep.identifier=newIndentifier,copySubStep.wordToReplace=newIndentifier,copySubStep.hasIndex&&(copySubStep.question=1===parseInt(value)?copySubStep.questionOriginal.replace(\"->(index)\",\"\"):copySubStep.questionOriginal.replace(\"->(index)\",i+1)),this.steps.splice(index+1+subStepIndex+i*content.subSteps.length+parseInt(value)*contentIndex*content.subSteps.length,0,copySubStep),\"iRadioB\"===copySubStep.type&&refreshRadioBSteps.push(copySubStep),\"iRadioC\"===copySubStep.type&&(copySubStep.radios.forEach(radioC=>{radioC.subSteps.forEach(radioCsubstep=>{const newId=newIndentifier+radioCsubstep.identifier,regexp3=new RegExp(radioCsubstep.identifier,\"g\");radioC.replacementOriginal=radioC.replacementOriginal.replace(regexp3,newId),radioCsubstep.wordToReplace=newId,radioCsubstep.identifier=newId})}),refreshRadioCSteps.push(copySubStep))}),content.modifiedReplacements.push(modifiedReplacement)}content.modifiedExtraReplacements.push(modifiedExtraReplacements)}),refreshRadioBSteps.forEach(step=>{step.radios.forEach(radio=>{radio.checked&&this.onInputRadioBSelected(radio.radioId,step.wordToReplace,!1,!0)})}),buildDocumentAfter&&(refreshRadioCSteps.forEach(step=>{step.cached?step.radios.forEach(radio=>{radio.checked&&this.onInputRadioCSelected(radio.radioId,step.wordToReplace,!1)}):this.onInputRadioCSelected(step.defaultRadioId,step.wordToReplace,!1)}),this.buildDocument(!0,!1,checkCache))}cleanPreviouslyAddedSteps(index,identifierOrWordToReplace){for(;this.steps[index+1]&&this.steps[index+1].wordToReplace.includes(identifierOrWordToReplace);)this.steps.splice(index+1,1)}onInputRadioBSelected(radioSelectedId,wordToReplace,buildDocumentAfter=!0,avoidFocus=!1){const{step:step}=this.findStep(wordToReplace,!1,\"wordToReplace\");step.isFocused=!avoidFocus,step.radios.forEach(radio=>{radio.radioId===radioSelectedId?(step.replacement=radio.replacementOriginal,radio.checked=!0,step.extraReplacements&&step.extraReplacements.forEach((extraReplacement,i)=>{extraReplacement.replacement=radio.extraReplacements[i].replacement})):radio.checked=!1}),buildDocumentAfter&&this.buildDocument()}onInputRadioCSelected(radioSelectedId,wordToReplace,buildDocumentAfter=!0,radioCfocused=!1,checkCache=!1){const refreshForEachInputs=[],refreshNormalInputs=[],refreshRadioBInputs=[],refreshRadioCInputs=[],buildSelectedRadio=(step,index,radio)=>{this.cleanPreviouslyAddedSteps(index,step.wordToReplace);let replacement=radio.replacementOriginal;radio.extraReplacements.forEach(extraReplacement=>{extraReplacement.replacement=extraReplacement.replacementOriginal}),radio.subSteps.forEach((subStep,subStepIndex)=>{subStep.wordToReplace=step.identifier+subStep.identifier;const regexp=new RegExp(subStep.identifier,\"g\");replacement=replacement.replace(regexp,subStep.wordToReplace),radio.extraReplacements.forEach(extraReplacement=>{extraReplacement.replacement=extraReplacement.replacement.replace(subStep.identifier,subStep.wordToReplace)}),\"iCheckbox\"===subStep.type&&subStep.checkboxes.forEach(checkbox=>{checkbox.checked=!1}),\"iRadioC\"===subStep.type&&(subStep.inheritFromRadioC=subStep.wordToReplace,subStep.radios.forEach(radioC=>{radioC.subSteps.forEach(radioCsubstep=>{const newIndentifier=subStep.wordToReplace+radioCsubstep.identifier,regexp3=new RegExp(radioCsubstep.identifier,\"g\");radioC.replacementOriginal=radioC.replacementOriginal.replace(regexp3,newIndentifier),radioC.extraReplacements.forEach(extraReplacement=>{radioC.fixContratoTrabjo&&(extraReplacement.replacementOriginal=extraReplacement.replacementOriginal.replace(regexp3,newIndentifier))}),radioCsubstep.wordToReplace=newIndentifier,radioCsubstep.identifier=newIndentifier,radioCsubstep.inherited=!0})}),refreshRadioCInputs.push(subStep)),\"iForEach\"===subStep.type&&(subStep.content.forEach(content=>{const regexp2=new RegExp(content.wordToReplace,\"g\");content.replacementOriginal=content.replacementOriginal.replace(regexp2,subStep.wordToReplace),content.subSteps.forEach(contentSubstep=>{contentSubstep.wordToReplace=contentSubstep.wordToReplace.replace(regexp2,subStep.wordToReplace),contentSubstep.identifier=contentSubstep.identifier.replace(regexp2,subStep.wordToReplace)}),content.wordToReplace=subStep.wordToReplace,content.identifier=subStep.wordToReplace}),refreshForEachInputs.push(subStep)),\"iNumber\"===subStep.type&&(subStep.rules.forEach(rule=>{if(\"extraReplacementToCharacter\"===rule.rulename){const newRuleIdentifier=\"i\"+Math.random().toString(36).substring(7)+rule.identifier;rule.wordToReplace=newRuleIdentifier;const regexp4=new RegExp(rule.identifier,\"g\");replacement=replacement.replace(regexp4,newRuleIdentifier)}}),subStep.rules.length&&refreshNormalInputs.push(subStep)),\"iRadioB\"===subStep.type&&refreshRadioBInputs.push(subStep),this.steps.splice(index+1+subStepIndex,0,subStep)}),radio.replacement=replacement,radio.checked=!0};this.steps.forEach((step,index)=>{(step.identifier===wordToReplace||step.inheritFromRadioC&&step.inheritFromRadioC===wordToReplace)&&step.radios.forEach(radio=>{radio.radioId===radioSelectedId?buildSelectedRadio(step,index,radio):radio.checked=!1}),step.wordToReplace===wordToReplace?(step.isFocused=!0,step.radioCfocused=radioCfocused):step.isFocused=!1}),refreshForEachInputs.forEach(forEachInput=>{this.buildForEach(forEachInput.value,forEachInput.wordToReplace,!1,!0)}),refreshRadioCInputs.forEach(step=>{step.radios.forEach(radio=>{radio.checked&&this.onInputRadioCSelected(radio.radioId,step.wordToReplace,!1)})}),refreshNormalInputs.forEach(input=>{this.input(input.replacement,input.wordToReplace,!1)}),refreshRadioBInputs.forEach(step=>{step.radios.forEach(radio=>{radio.checked&&this.onInputRadioBSelected(radio.radioId,step.wordToReplace,!1,!0)})}),buildDocumentAfter&&this.buildDocument(!0,!1,checkCache)}onInputCheckboxSelected(checkboxIdentifier,wordToReplace,checked,buildDocumentAfter=!0){this.steps.forEach((step,index)=>{if(step.wordToReplace===wordToReplace){let replacement=step.replacementOriginal;step.checkboxes.forEach(checkbox=>{if(checkbox.wordToReplace=step.wordToReplace+checkbox.identifier,replacement=replacement.replace(checkbox.identifier,checkbox.wordToReplace),checkbox.identifier===checkboxIdentifier){const lengthOfRestOfArray=this.steps.length-index;for(let i=0;i<lengthOfRestOfArray;i++)this.steps[index+1+i]&&this.steps[index+1+i].wordToReplace.includes(checkbox.identifier)&&this.steps.splice(index+1+i,1);if(checked){let replacementSubstep=checkbox.replacementOriginal;checkbox.subSteps.forEach((subStep,subStepIndex)=>{subStep.wordToReplace=checkbox.wordToReplace+subStep.identifier,replacementSubstep=replacementSubstep.replace(subStep.identifier,subStep.wordToReplace),this.steps.splice(index+1+subStepIndex,0,subStep)}),checkbox.replacement=replacementSubstep}checkbox.checked=checked}}),step.replacement=replacement,step.rules&&step.rules.length&&step.rules.forEach(rule=>{if(\"noneIsChecked\"===rule.condition){let isAnyCheck=!1;step.checkboxes.forEach(checkbox=>{checkbox.checked&&(isAnyCheck=!0)}),isAnyCheck?rule.isFulfilled=!1:(step.replacement=rule.replacement,rule.isFulfilled=!0)}})}}),buildDocumentAfter&&this.buildDocument()}getStepsModel(){return this.steps}}return StepsService.ɵfac=function(t){return new(t||StepsService)(fesm2015_core.Vb(doc_creator_service_DocCreatorService),fesm2015_core.Vb(core.e))},StepsService.ɵprov=fesm2015_core.Hb({token:StepsService,factory:StepsService.ɵfac}),StepsService})();function ITextComponent_div_5_Template(rf,ctx){if(1&rf){const _r513=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",12),fesm2015_core.Qb(1,\"span\",13),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r513),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb(),fesm2015_core.Pb()}}const i_text_component_c0=function(a0){return{borderBottom:a0}};function ITextComponent_input_9_Template(rf,ctx){if(1&rf){const _r516=fesm2015_core.Rb();fesm2015_core.Qb(0,\"input\",14,15),fesm2015_core.Zb(\"keyup\",(function($event){return fesm2015_core.rc(_r516),fesm2015_core.dc().onInput($event)}))(\"click\",(function($event){return fesm2015_core.rc(_r516),fesm2015_core.dc().onInput($event)})),fesm2015_core.Pb()}if(2&rf){const ctx_r509=fesm2015_core.dc();fesm2015_core.ic(\"value\",ctx_r509.step.replacement)(\"placeholder\",ctx_r509.step.placeholder?ctx_r509.step.placeholder:\"\")(\"ngStyle\",fesm2015_core.lc(3,i_text_component_c0,ctx_r509.inputInvalid?\"3px solid red\":\"\"))}}function ITextComponent_textarea_10_Template(rf,ctx){if(1&rf){const _r520=fesm2015_core.Rb();fesm2015_core.Qb(0,\"textarea\",16,15),fesm2015_core.Zb(\"keyup\",(function($event){return fesm2015_core.rc(_r520),fesm2015_core.dc().onInput($event)}))(\"click\",(function($event){return fesm2015_core.rc(_r520),fesm2015_core.dc().onInput($event)})),fesm2015_core.Pb()}if(2&rf){const ctx_r510=fesm2015_core.dc();fesm2015_core.ic(\"value\",ctx_r510.step.replacement)(\"placeholder\",ctx_r510.step.placeholder?ctx_r510.step.placeholder:\"\")(\"ngStyle\",fesm2015_core.lc(3,i_text_component_c0,ctx_r510.inputInvalid?\"3px solid red\":\"\"))}}function ITextComponent_span_12_Template(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"span\",17),fesm2015_core.zc(1,\" Obligatorio * \"),fesm2015_core.Pb())}let i_text_component_ITextComponent=(()=>{class ITextComponent{constructor(stepModelService){this.stepModelService=stepModelService,this.emitIndication=new fesm2015_core.n}ngOnInit(){}showIndication(){this.emitIndication.emit()}onInput(e){this.stepModelService.input(e.srcElement.value,this.step.wordToReplace,!0,!0)}}return ITextComponent.ɵfac=function(t){return new(t||ITextComponent)(fesm2015_core.Lb(step_service_StepsService))},ITextComponent.ɵcmp=fesm2015_core.Fb({type:ITextComponent,selectors:[[\"app-i-text\"]],inputs:{step:\"step\",inputInvalid:\"inputInvalid\"},outputs:{emitIndication:\"emitIndication\"},decls:13,vars:5,consts:[[1,\"form-creator__fields-area__middle__container\",\"fade-in\"],[1,\"form-creator__fields-area__field\"],[1,\"form-creator__fields-area__field__container\"],[1,\"form-creator__fields-area__field__field-area\",\"form-creator__fields-area__field__field-area--input-text\"],[1,\"form-creator__fields-area__field__top\",\"form-creator__fields-area__field__top--fill-form\"],[\"class\",\"indication\",4,\"ngIf\"],[1,\"form-creator__fields-area__field__middle\"],[1,\"form-creator__fields-area__field__middle__question\"],[\"type\",\"text\",3,\"value\",\"placeholder\",\"ngStyle\",\"keyup\",\"click\",4,\"ngIf\"],[\"cols\",\"30\",\"rows\",\"6\",3,\"value\",\"placeholder\",\"ngStyle\",\"keyup\",\"click\",4,\"ngIf\"],[1,\"form-creator__fields-area__field__bottom\"],[\"class\",\"form-creator__fields-area__field__bottom__mandatory-label\",4,\"ngIf\"],[1,\"indication\"],[1,\"icon\",\"icon-info-circle-solid\",\"trigger\",3,\"click\"],[\"type\",\"text\",3,\"value\",\"placeholder\",\"ngStyle\",\"keyup\",\"click\"],[\"input\",\"\"],[\"cols\",\"30\",\"rows\",\"6\",3,\"value\",\"placeholder\",\"ngStyle\",\"keyup\",\"click\"],[1,\"form-creator__fields-area__field__bottom__mandatory-label\"]],template:function(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.Qb(4,\"div\",4),fesm2015_core.yc(5,ITextComponent_div_5_Template,2,0,\"div\",5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",6),fesm2015_core.Qb(7,\"span\",7),fesm2015_core.zc(8),fesm2015_core.Pb(),fesm2015_core.yc(9,ITextComponent_input_9_Template,2,5,\"input\",8),fesm2015_core.yc(10,ITextComponent_textarea_10_Template,2,5,\"textarea\",9),fesm2015_core.Pb(),fesm2015_core.Qb(11,\"div\",10),fesm2015_core.yc(12,ITextComponent_span_12_Template,2,0,\"span\",11),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()),2&rf&&(fesm2015_core.zb(5),fesm2015_core.ic(\"ngIf\",ctx.step.indications&&ctx.step.indications.areIndications),fesm2015_core.zb(3),fesm2015_core.Ac(ctx.step.question),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"textarea\"!==ctx.step.subType),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"textarea\"===ctx.step.subType),fesm2015_core.zb(2),fesm2015_core.ic(\"ngIf\",ctx.step.mandatory))},directives:[common.t,common.w],encapsulation:2}),ITextComponent})();function IDateComponent_div_5_Template(rf,ctx){if(1&rf){const _r526=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",13),fesm2015_core.Qb(1,\"span\",14),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r526),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb(),fesm2015_core.Pb()}}function IDateComponent_span_13_Template(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"span\",15),fesm2015_core.zc(1,\" Obligatorio * \"),fesm2015_core.Pb())}const i_date_component_c0=function(a0){return{borderBottom:a0}};let i_date_component_IDateComponent=(()=>{class IDateComponent{constructor(stepModelService){this.stepModelService=stepModelService,this.emitIndication=new fesm2015_core.n}ngOnInit(){}showIndication(){this.emitIndication.emit()}onInput(value,wordToReplace){this.stepModelService.input(value,wordToReplace,!0,!0)}}return IDateComponent.ɵfac=function(t){return new(t||IDateComponent)(fesm2015_core.Lb(step_service_StepsService))},IDateComponent.ɵcmp=fesm2015_core.Fb({type:IDateComponent,selectors:[[\"app-i-date\"]],inputs:{step:\"step\",inputInvalid:\"inputInvalid\"},outputs:{emitIndication:\"emitIndication\"},decls:14,vars:7,consts:[[1,\"form-creator__fields-area__middle__container\",\"fade-in\"],[1,\"form-creator__fields-area__field\"],[1,\"form-creator__fields-area__field__container\"],[1,\"form-creator__fields-area__field__field-area\",\"form-creator__fields-area__field__field-area--input-text\"],[1,\"form-creator__fields-area__field__top\",\"form-creator__fields-area__field__top--fill-form\"],[\"class\",\"indication\",4,\"ngIf\"],[1,\"form-creator__fields-area__field__middle\"],[1,\"form-creator__fields-area__field__middle__date-container\"],[1,\"form-creator__fields-area__field__middle__question\"],[\"type\",\"date\",3,\"value\",\"ngStyle\",\"change\"],[\"input\",\"\"],[1,\"form-creator__fields-area__field__bottom\"],[\"class\",\"form-creator__fields-area__field__bottom__mandatory-label\",4,\"ngIf\"],[1,\"indication\"],[1,\"icon\",\"icon-info-circle-solid\",\"trigger\",3,\"click\"],[1,\"form-creator__fields-area__field__bottom__mandatory-label\"]],template:function(rf,ctx){if(1&rf){const _r527=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.Qb(4,\"div\",4),fesm2015_core.yc(5,IDateComponent_div_5_Template,2,0,\"div\",5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",6),fesm2015_core.Qb(7,\"div\",7),fesm2015_core.Qb(8,\"span\",8),fesm2015_core.zc(9),fesm2015_core.Pb(),fesm2015_core.Qb(10,\"input\",9,10),fesm2015_core.Zb(\"change\",(function(){fesm2015_core.rc(_r527);const _r523=fesm2015_core.pc(11);return ctx.onInput(_r523.value,ctx.step.wordToReplace)})),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(12,\"div\",11),fesm2015_core.yc(13,IDateComponent_span_13_Template,2,0,\"span\",12),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}2&rf&&(fesm2015_core.zb(5),fesm2015_core.ic(\"ngIf\",ctx.step.indications&&ctx.step.indications.areIndications),fesm2015_core.zb(4),fesm2015_core.Ac(ctx.step.question),fesm2015_core.zb(1),fesm2015_core.ic(\"value\",ctx.step.replacement)(\"ngStyle\",fesm2015_core.lc(5,i_date_component_c0,ctx.inputInvalid?\"3px solid red\":\"\")),fesm2015_core.zb(3),fesm2015_core.ic(\"ngIf\",ctx.step.mandatory))},directives:[common.t,common.w],encapsulation:2}),IDateComponent})();const i_number_component_c0=[\"input\"];function INumberComponent_div_5_Template(rf,ctx){if(1&rf){const _r532=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",12),fesm2015_core.Qb(1,\"span\",13),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r532),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb(),fesm2015_core.Pb()}}function INumberComponent_span_12_Template(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"span\",14),fesm2015_core.zc(1,\" Obligatorio * \"),fesm2015_core.Pb())}const i_number_component_c1=function(a0){return{borderBottom:a0}};let i_number_component_INumberComponent=(()=>{class INumberComponent{constructor(stepModelService,toastr){this.stepModelService=stepModelService,this.toastr=toastr,this.emitIndication=new fesm2015_core.n}ngOnInit(){}onInputNumberChanged(e){let newValue=e.srcElement.value;isNaN(newValue)?(this.toastr.error(\"Número no válido\",\"Debe ser un número\",{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"}),this.input.nativeElement.style.borderBottom=\"3px solid red\"):(this.input.nativeElement.style.borderBottom=\"\",newValue.includes(\",\")&&(newValue=newValue.replace(\",\",\"\")),newValue.includes(\".\")&&(newValue=newValue.replace(\".\",\"\")),this.stepModelService.input(newValue,this.step.wordToReplace,!0,!0))}showIndication(){this.emitIndication.emit()}}return INumberComponent.ɵfac=function(t){return new(t||INumberComponent)(fesm2015_core.Lb(step_service_StepsService),fesm2015_core.Lb(ngx_toastr.b))},INumberComponent.ɵcmp=fesm2015_core.Fb({type:INumberComponent,selectors:[[\"app-i-number\"]],viewQuery:function(rf,ctx){var _t;1&rf&&fesm2015_core.Dc(i_number_component_c0,!0),2&rf&&fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.input=_t.first)},inputs:{step:\"step\",inputInvalid:\"inputInvalid\"},outputs:{emitIndication:\"emitIndication\"},decls:13,vars:8,consts:[[1,\"form-creator__fields-area__middle__container\",\"fade-in\"],[1,\"form-creator__fields-area__field\"],[1,\"form-creator__fields-area__field__container\"],[1,\"form-creator__fields-area__field__field-area\",\"form-creator__fields-area__field__field-area--input-text\"],[1,\"form-creator__fields-area__field__top\",\"form-creator__fields-area__field__top--fill-form\"],[\"class\",\"indication\",4,\"ngIf\"],[1,\"form-creator__fields-area__field__middle\"],[1,\"form-creator__fields-area__field__middle__question\"],[\"type\",\"text\",3,\"value\",\"placeholder\",\"ngStyle\",\"keyup\",\"click\"],[\"input\",\"\"],[1,\"form-creator__fields-area__field__bottom\"],[\"class\",\"form-creator__fields-area__field__bottom__mandatory-label\",4,\"ngIf\"],[1,\"indication\"],[1,\"icon\",\"icon-info-circle-solid\",\"trigger\",3,\"click\"],[1,\"form-creator__fields-area__field__bottom__mandatory-label\"]],template:function(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.Qb(4,\"div\",4),fesm2015_core.yc(5,INumberComponent_div_5_Template,2,0,\"div\",5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",6),fesm2015_core.Qb(7,\"span\",7),fesm2015_core.zc(8),fesm2015_core.Pb(),fesm2015_core.Qb(9,\"input\",8,9),fesm2015_core.Zb(\"keyup\",(function($event){return ctx.onInputNumberChanged($event)}))(\"click\",(function($event){return ctx.onInputNumberChanged($event)})),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(11,\"div\",10),fesm2015_core.yc(12,INumberComponent_span_12_Template,2,0,\"span\",11),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()),2&rf&&(fesm2015_core.zb(5),fesm2015_core.ic(\"ngIf\",ctx.step.indications&&ctx.step.indications.areIndications),fesm2015_core.zb(3),fesm2015_core.Ac(ctx.step.question),fesm2015_core.zb(1),fesm2015_core.ic(\"value\",ctx.step.replacement)(\"placeholder\",ctx.step.placeholder?ctx.step.placeholder:\"\")(\"ngStyle\",fesm2015_core.lc(6,i_number_component_c1,ctx.inputInvalid?\"3px solid red\":\"\")),fesm2015_core.zb(3),fesm2015_core.ic(\"ngIf\",ctx.step.mandatory))},directives:[common.t,common.w],encapsulation:2}),INumberComponent})();function IRadioBComponent_div_5_Template(rf,ctx){if(1&rf){const _r536=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",11),fesm2015_core.Qb(1,\"span\",12),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r536),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb(),fesm2015_core.Pb()}}function IRadioBComponent_p_10_Template(rf,ctx){if(1&rf){const _r539=fesm2015_core.Rb();fesm2015_core.Qb(0,\"p\"),fesm2015_core.Qb(1,\"label\"),fesm2015_core.Qb(2,\"input\",13),fesm2015_core.Zb(\"change\",(function(){fesm2015_core.rc(_r539);const radio_r537=ctx.$implicit,ctx_r538=fesm2015_core.dc();return ctx_r538.onInputSelected(radio_r537.radioId,ctx_r538.step.wordToReplace)})),fesm2015_core.Pb(),fesm2015_core.Qb(3,\"span\"),fesm2015_core.zc(4),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const radio_r537=ctx.$implicit;fesm2015_core.zb(2),fesm2015_core.ic(\"checked\",radio_r537.checked),fesm2015_core.zb(2),fesm2015_core.Ac(radio_r537.label)}}let i_radio_b_component_IRadioBComponent=(()=>{class IRadioBComponent{constructor(stepModelService,documentCreatorService){this.stepModelService=stepModelService,this.documentCreatorService=documentCreatorService,this.emitIndication=new fesm2015_core.n}ngOnInit(){}showIndication(){this.emitIndication.emit()}onInputSelected(radioId,wordToReplace){this.stepModelService.onInputRadioBSelected(radioId,wordToReplace)}}return IRadioBComponent.ɵfac=function(t){return new(t||IRadioBComponent)(fesm2015_core.Lb(step_service_StepsService),fesm2015_core.Lb(doc_creator_service_DocCreatorService))},IRadioBComponent.ɵcmp=fesm2015_core.Fb({type:IRadioBComponent,selectors:[[\"app-i-radio-b\"]],inputs:{step:\"step\",inputInvalid:\"inputInvalid\"},outputs:{emitIndication:\"emitIndication\"},decls:12,vars:3,consts:[[1,\"form-creator__fields-area__middle__container\",\"fade-in\"],[1,\"form-creator__fields-area__field\"],[1,\"form-creator__fields-area__field__container\"],[1,\"form-creator__fields-area__field__field-area\",\"form-creator__fields-area__field__field-area--input-text\"],[1,\"form-creator__fields-area__field__top\",\"form-creator__fields-area__field__top--fill-form\"],[\"class\",\"indication\",4,\"ngIf\"],[1,\"form-creator__fields-area__field__middle\"],[1,\"form-creator__fields-area__field__middle__question\"],[1,\"form-creator__fields-area__field__middle__radio-input--fill-form\",\"radio\"],[4,\"ngFor\",\"ngForOf\"],[1,\"form-creator__fields-area__field__bottom\"],[1,\"indication\"],[1,\"icon\",\"icon-info-circle-solid\",\"trigger\",3,\"click\"],[\"name\",\"group1\",\"type\",\"radio\",\"value\",\"Valor de la pregunta numero 1\",1,\"with-gap\",3,\"checked\",\"change\"]],template:function(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.Qb(4,\"div\",4),fesm2015_core.yc(5,IRadioBComponent_div_5_Template,2,0,\"div\",5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",6),fesm2015_core.Qb(7,\"span\",7),fesm2015_core.zc(8),fesm2015_core.Pb(),fesm2015_core.Qb(9,\"div\",8),fesm2015_core.yc(10,IRadioBComponent_p_10_Template,5,2,\"p\",9),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Mb(11,\"div\",10),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()),2&rf&&(fesm2015_core.zb(5),fesm2015_core.ic(\"ngIf\",ctx.step.indications&&ctx.step.indications.areIndications),fesm2015_core.zb(3),fesm2015_core.Ac(ctx.step.question),fesm2015_core.zb(2),fesm2015_core.ic(\"ngForOf\",ctx.step.radios))},directives:[common.t,common.s],encapsulation:2}),IRadioBComponent})();function IRadioCComponent_div_5_Template(rf,ctx){if(1&rf){const _r543=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",11),fesm2015_core.Qb(1,\"span\",12),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r543),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb(),fesm2015_core.Pb()}}function IRadioCComponent_p_10_Template(rf,ctx){if(1&rf){const _r546=fesm2015_core.Rb();fesm2015_core.Qb(0,\"p\"),fesm2015_core.Qb(1,\"label\"),fesm2015_core.Qb(2,\"input\",13),fesm2015_core.Zb(\"change\",(function(){fesm2015_core.rc(_r546);const radio_r544=ctx.$implicit,ctx_r545=fesm2015_core.dc();return ctx_r545.onRadioCchanged(radio_r544.radioId,ctx_r545.step.wordToReplace)})),fesm2015_core.Pb(),fesm2015_core.Qb(3,\"span\"),fesm2015_core.zc(4),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const radio_r544=ctx.$implicit;fesm2015_core.zb(2),fesm2015_core.ic(\"checked\",radio_r544.checked),fesm2015_core.zb(2),fesm2015_core.Ac(radio_r544.label)}}let i_radio_c_component_IRadioCComponent=(()=>{class IRadioCComponent{constructor(stepModelService,documentCreatorService){this.stepModelService=stepModelService,this.documentCreatorService=documentCreatorService,this.emitIndication=new fesm2015_core.n}ngOnInit(){}showIndication(){this.emitIndication.emit()}onRadioCchanged(radioId,wordToReplace){this.stepModelService.refreshCache(),this.stepModelService.onInputRadioCSelected(radioId,wordToReplace,!0,!0,!0)}}return IRadioCComponent.ɵfac=function(t){return new(t||IRadioCComponent)(fesm2015_core.Lb(step_service_StepsService),fesm2015_core.Lb(doc_creator_service_DocCreatorService))},IRadioCComponent.ɵcmp=fesm2015_core.Fb({type:IRadioCComponent,selectors:[[\"app-i-radio-c\"]],inputs:{step:\"step\",inputInvalid:\"inputInvalid\"},outputs:{emitIndication:\"emitIndication\"},decls:12,vars:3,consts:[[1,\"form-creator__fields-area__middle__container\",\"fade-in\"],[1,\"form-creator__fields-area__field\"],[1,\"form-creator__fields-area__field__container\"],[1,\"form-creator__fields-area__field__field-area\",\"form-creator__fields-area__field__field-area--input-text\"],[1,\"form-creator__fields-area__field__top\",\"form-creator__fields-area__field__top--fill-form\"],[\"class\",\"indication\",4,\"ngIf\"],[1,\"form-creator__fields-area__field__middle\"],[1,\"form-creator__fields-area__field__middle__question\"],[1,\"form-creator__fields-area__field__middle__radio-input--fill-form\",\"radio\"],[4,\"ngFor\",\"ngForOf\"],[1,\"form-creator__fields-area__field__bottom\"],[1,\"indication\"],[1,\"icon\",\"icon-info-circle-solid\",\"trigger\",3,\"click\"],[\"name\",\"group1\",\"type\",\"radio\",\"value\",\"Valor de la pregunta numero 1\",1,\"with-gap\",3,\"checked\",\"change\"]],template:function(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.Qb(4,\"div\",4),fesm2015_core.yc(5,IRadioCComponent_div_5_Template,2,0,\"div\",5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",6),fesm2015_core.Qb(7,\"span\",7),fesm2015_core.zc(8),fesm2015_core.Pb(),fesm2015_core.Qb(9,\"div\",8),fesm2015_core.yc(10,IRadioCComponent_p_10_Template,5,2,\"p\",9),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Mb(11,\"div\",10),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()),2&rf&&(fesm2015_core.zb(5),fesm2015_core.ic(\"ngIf\",ctx.step.indications&&ctx.step.indications.areIndications),fesm2015_core.zb(3),fesm2015_core.Ac(ctx.step.question),fesm2015_core.zb(2),fesm2015_core.ic(\"ngForOf\",ctx.step.radios))},directives:[common.t,common.s],encapsulation:2}),IRadioCComponent})();function IForEachComponent_div_5_Template(rf,ctx){if(1&rf){const _r550=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",12),fesm2015_core.Qb(1,\"span\",13),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r550),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb(),fesm2015_core.Pb()}}let i_for_each_component_IForEachComponent=(()=>{class IForEachComponent{constructor(stepModelService,documentCreatorService){this.stepModelService=stepModelService,this.documentCreatorService=documentCreatorService,this.emitIndication=new fesm2015_core.n}ngOnInit(){}showIndication(){this.emitIndication.emit()}onInput(value,wordToReplace){this.stepModelService.refreshCache(),this.stepModelService.buildForEach(value,wordToReplace,!0,!0,!0)}}return IForEachComponent.ɵfac=function(t){return new(t||IForEachComponent)(fesm2015_core.Lb(step_service_StepsService),fesm2015_core.Lb(doc_creator_service_DocCreatorService))},IForEachComponent.ɵcmp=fesm2015_core.Fb({type:IForEachComponent,selectors:[[\"app-i-for-each\"]],inputs:{step:\"step\",inputInvalid:\"inputInvalid\"},outputs:{emitIndication:\"emitIndication\"},decls:16,vars:6,consts:[[1,\"form-creator__fields-area__middle__container\",\"fade-in\"],[1,\"form-creator__fields-area__field\"],[1,\"form-creator__fields-area__field__container\"],[1,\"form-creator__fields-area__field__field-area\",\"form-creator__fields-area__field__field-area--input-text\"],[1,\"form-creator__fields-area__field__top\",\"form-creator__fields-area__field__top--fill-form\"],[\"class\",\"indication\",4,\"ngIf\"],[1,\"form-creator__fields-area__field__middle\"],[1,\"form-creator__fields-area__field__middle__question\"],[1,\"slider-range-container\"],[\"type\",\"range\",1,\"range-slider\",3,\"min\",\"max\",\"value\",\"change\"],[\"input\",\"\"],[1,\"form-creator__fields-area__field__bottom\"],[1,\"indication\"],[1,\"icon\",\"icon-info-circle-solid\",\"trigger\",3,\"click\"]],template:function(rf,ctx){if(1&rf){const _r551=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.Qb(4,\"div\",4),fesm2015_core.yc(5,IForEachComponent_div_5_Template,2,0,\"div\",5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",6),fesm2015_core.Qb(7,\"span\",7),fesm2015_core.zc(8),fesm2015_core.Pb(),fesm2015_core.Qb(9,\"div\",8),fesm2015_core.Qb(10,\"input\",9,10),fesm2015_core.Zb(\"change\",(function(){fesm2015_core.rc(_r551);const _r548=fesm2015_core.pc(11);return ctx.onInput(_r548.value,ctx.step.wordToReplace)})),fesm2015_core.Pb(),fesm2015_core.Qb(12,\"p\"),fesm2015_core.Qb(13,\"span\"),fesm2015_core.zc(14),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Mb(15,\"div\",11),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const _r548=fesm2015_core.pc(11);fesm2015_core.zb(5),fesm2015_core.ic(\"ngIf\",ctx.step.indications&&ctx.step.indications.areIndications),fesm2015_core.zb(3),fesm2015_core.Ac(ctx.step.question),fesm2015_core.zb(2),fesm2015_core.jc(\"min\",ctx.step.min),fesm2015_core.jc(\"max\",ctx.step.max),fesm2015_core.ic(\"value\",ctx.step.value),fesm2015_core.zb(4),fesm2015_core.Ac(_r548.value)}},directives:[common.t],encapsulation:2}),IForEachComponent})();function ISelectComponent_div_5_Template(rf,ctx){if(1&rf){const _r555=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",12),fesm2015_core.Qb(1,\"span\",13),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r555),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb(),fesm2015_core.Pb()}}function ISelectComponent_option_11_Template(rf,ctx){if(1&rf&&(fesm2015_core.Qb(0,\"option\",14),fesm2015_core.zc(1),fesm2015_core.Pb()),2&rf){const radio_r556=ctx.$implicit;fesm2015_core.jc(\"value\",radio_r556.radioId),fesm2015_core.ic(\"selected\",radio_r556.checked),fesm2015_core.zb(1),fesm2015_core.Bc(\" \",radio_r556.label,\" \")}}let i_select_component_ISelectComponent=(()=>{class ISelectComponent{constructor(stepModelService,documentCreatorService){this.stepModelService=stepModelService,this.documentCreatorService=documentCreatorService,this.emitIndication=new fesm2015_core.n}ngOnInit(){}onInputSelectChanged(e){\"iRadioC\"===this.step.type?this.stepModelService.onInputRadioCSelected(e.target.value,this.step.wordToReplace):\"iRadioB\"===this.step.type&&this.stepModelService.onInputRadioBSelected(e.target.value,this.step.wordToReplace)}showIndication(){this.emitIndication.emit()}}return ISelectComponent.ɵfac=function(t){return new(t||ISelectComponent)(fesm2015_core.Lb(step_service_StepsService),fesm2015_core.Lb(doc_creator_service_DocCreatorService))},ISelectComponent.ɵcmp=fesm2015_core.Fb({type:ISelectComponent,selectors:[[\"app-i-select\"]],inputs:{step:\"step\",inputInvalid:\"inputInvalid\"},outputs:{emitIndication:\"emitIndication\"},decls:13,vars:3,consts:[[1,\"form-creator__fields-area__middle__container\",\"fade-in\"],[1,\"form-creator__fields-area__field\"],[1,\"form-creator__fields-area__field__container\"],[1,\"form-creator__fields-area__field__field-area\",\"form-creator__fields-area__field__field-area--input-text\"],[1,\"form-creator__fields-area__field__top\",\"form-creator__fields-area__field__top--fill-form\"],[\"class\",\"indication\",4,\"ngIf\"],[1,\"form-creator__fields-area__field__middle\"],[1,\"form-creator__fields-area__field__middle__question\"],[1,\"input-select\"],[1,\"browser-default\",3,\"change\"],[3,\"value\",\"selected\",4,\"ngFor\",\"ngForOf\"],[1,\"form-creator__fields-area__field__bottom\"],[1,\"indication\"],[1,\"icon\",\"icon-info-circle-solid\",\"trigger\",3,\"click\"],[3,\"value\",\"selected\"]],template:function(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.Qb(4,\"div\",4),fesm2015_core.yc(5,ISelectComponent_div_5_Template,2,0,\"div\",5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",6),fesm2015_core.Qb(7,\"span\",7),fesm2015_core.zc(8),fesm2015_core.Pb(),fesm2015_core.Qb(9,\"div\",8),fesm2015_core.Qb(10,\"select\",9),fesm2015_core.Zb(\"change\",(function($event){return ctx.onInputSelectChanged($event)})),fesm2015_core.yc(11,ISelectComponent_option_11_Template,2,3,\"option\",10),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Mb(12,\"div\",11),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()),2&rf&&(fesm2015_core.zb(5),fesm2015_core.ic(\"ngIf\",ctx.step.indications&&ctx.step.indications.areIndications),fesm2015_core.zb(3),fesm2015_core.Ac(ctx.step.question),fesm2015_core.zb(3),fesm2015_core.ic(\"ngForOf\",ctx.step.radios))},directives:[common.t,common.s,fesm2015_forms.v,fesm2015_forms.F],encapsulation:2}),ISelectComponent})();function ICheckboxComponent_div_5_Template(rf,ctx){if(1&rf){const _r560=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",12),fesm2015_core.Qb(1,\"span\",13),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r560),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb(),fesm2015_core.Pb()}}function ICheckboxComponent_label_10_Template(rf,ctx){if(1&rf){const _r564=fesm2015_core.Rb();fesm2015_core.Qb(0,\"label\"),fesm2015_core.Qb(1,\"input\",14,15),fesm2015_core.Zb(\"change\",(function(){fesm2015_core.rc(_r564);const checkbox_r561=ctx.$implicit,_r562=fesm2015_core.pc(2),ctx_r563=fesm2015_core.dc();return ctx_r563.onInputCheckboxSelected(checkbox_r561.identifier,ctx_r563.step.wordToReplace,_r562.checked)})),fesm2015_core.Pb(),fesm2015_core.Qb(3,\"span\"),fesm2015_core.zc(4),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const checkbox_r561=ctx.$implicit;fesm2015_core.zb(1),fesm2015_core.ic(\"checked\",checkbox_r561.checked),fesm2015_core.zb(3),fesm2015_core.Bc(\"\",checkbox_r561.label,\".\")}}let i_checkbox_component_ICheckboxComponent=(()=>{class ICheckboxComponent{constructor(stepModelService,documentCreatorService){this.stepModelService=stepModelService,this.documentCreatorService=documentCreatorService,this.emitIndication=new fesm2015_core.n}ngOnInit(){}showIndication(){this.emitIndication.emit()}onInputCheckboxSelected(identifier,wordToReplace,checked){this.stepModelService.onInputCheckboxSelected(identifier,wordToReplace,checked)}}return ICheckboxComponent.ɵfac=function(t){return new(t||ICheckboxComponent)(fesm2015_core.Lb(step_service_StepsService),fesm2015_core.Lb(doc_creator_service_DocCreatorService))},ICheckboxComponent.ɵcmp=fesm2015_core.Fb({type:ICheckboxComponent,selectors:[[\"app-i-checkbox\"]],inputs:{step:\"step\",inputInvalid:\"inputInvalid\"},outputs:{emitIndication:\"emitIndication\"},decls:14,vars:3,consts:[[1,\"form-creator__fields-area__middle__container\",\"fade-in\"],[1,\"form-creator__fields-area__field\"],[1,\"form-creator__fields-area__field__container\"],[1,\"form-creator__fields-area__field__field-area\",\"form-creator__fields-area__field__field-area--input-text\"],[1,\"form-creator__fields-area__field__top\",\"form-creator__fields-area__field__top--fill-form\"],[\"class\",\"indication\",4,\"ngIf\"],[1,\"form-creator__fields-area__field__middle\"],[1,\"form-creator__fields-area__field__middle__question\"],[1,\"form-creator__fields-area__field__middle__checkbox-input\"],[4,\"ngFor\",\"ngForOf\"],[1,\"form-creator__fields-area__field__bottom\"],[1,\"form-creator__fields-area__field__bottom__mandatory-label\"],[1,\"indication\"],[1,\"icon\",\"icon-info-circle-solid\",\"trigger\",3,\"click\"],[\"type\",\"checkbox\",1,\"filled-in\",3,\"checked\",\"change\"],[\"input\",\"\"]],template:function(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.Qb(4,\"div\",4),fesm2015_core.yc(5,ICheckboxComponent_div_5_Template,2,0,\"div\",5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",6),fesm2015_core.Qb(7,\"span\",7),fesm2015_core.zc(8),fesm2015_core.Pb(),fesm2015_core.Qb(9,\"div\",8),fesm2015_core.yc(10,ICheckboxComponent_label_10_Template,5,2,\"label\",9),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(11,\"div\",10),fesm2015_core.Qb(12,\"span\",11),fesm2015_core.zc(13,\" Obligatorio * \"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()),2&rf&&(fesm2015_core.zb(5),fesm2015_core.ic(\"ngIf\",ctx.step.indications&&ctx.step.indications.areIndications),fesm2015_core.zb(3),fesm2015_core.Ac(ctx.step.question),fesm2015_core.zb(2),fesm2015_core.ic(\"ngForOf\",ctx.step.checkboxes))},directives:[common.t,common.s],encapsulation:2}),ICheckboxComponent})();const form_component_c0=[\"modal\"],form_component_c1=[\"modalEnd\"],form_component_c2=[\"modalDownload\"],form_component_c3=[\"modalIndication\"],form_component_c4=[\"input\"],_c5=[\"progressBar\"];function FormComponent_div_4_Template(rf,ctx){if(1&rf){const _r586=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",43),fesm2015_core.Qb(1,\"div\",44),fesm2015_core.Qb(2,\"span\",45),fesm2015_core.Qb(3,\"div\",46),fesm2015_core.Mb(4,\"img\",47),fesm2015_core.Pb(),fesm2015_core.Qb(5,\"span\",48),fesm2015_core.zc(6,\"Silvia Camejo Alarcón\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(7,\"span\",49),fesm2015_core.Qb(8,\"span\"),fesm2015_core.zc(9,\"Actualizado:\"),fesm2015_core.Pb(),fesm2015_core.zc(10),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(11,\"div\",50),fesm2015_core.Qb(12,\"div\",51),fesm2015_core.Qb(13,\"span\",52),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r586);const ctx_r585=fesm2015_core.dc(),_r581=fesm2015_core.pc(27);return ctx_r585.toogleModal(_r581)})),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const ctx_r567=fesm2015_core.dc();fesm2015_core.zb(10),fesm2015_core.Bc(\" \",ctx_r567.form.updated,\" \")}}function FormComponent_div_5_Template(rf,ctx){if(1&rf&&(fesm2015_core.Qb(0,\"div\",53),fesm2015_core.Qb(1,\"div\",54),fesm2015_core.Qb(2,\"span\",null,55),fesm2015_core.zc(4),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()),2&rf){const ctx_r568=fesm2015_core.dc();fesm2015_core.zb(2),fesm2015_core.xc(\"width\",ctx_r568.progresBarPercentage),fesm2015_core.zb(2),fesm2015_core.Ac(ctx_r568.progresBarPercentage)}}function FormComponent_div_7_Template(rf,ctx){if(1&rf){const _r589=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",56),fesm2015_core.Qb(1,\"div\",57),fesm2015_core.Qb(2,\"h3\",58),fesm2015_core.zc(3),fesm2015_core.Pb(),fesm2015_core.Qb(4,\"span\",59),fesm2015_core.zc(5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"button\",60),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r589);const ctx_r588=fesm2015_core.dc(),_r581=fesm2015_core.pc(27);return ctx_r588.toogleModal(_r581)})),fesm2015_core.zc(7,\" Rellenar formulario \"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const ctx_r569=fesm2015_core.dc();fesm2015_core.zb(3),fesm2015_core.Bc(\" \",ctx_r569.steps[ctx_r569.currentStep].title,\" \"),fesm2015_core.zb(2),fesm2015_core.Bc(\" \",ctx_r569.steps[ctx_r569.currentStep].description,\" \")}}function FormComponent_app_i_text_8_Template(rf,ctx){if(1&rf){const _r591=fesm2015_core.Rb();fesm2015_core.Qb(0,\"app-i-text\",61),fesm2015_core.Zb(\"emitIndication\",(function(){return fesm2015_core.rc(_r591),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb()}if(2&rf){const ctx_r570=fesm2015_core.dc();fesm2015_core.ic(\"step\",ctx_r570.steps[ctx_r570.currentStep])(\"inputInvalid\",ctx_r570.inputInvalid)}}function FormComponent_app_i_date_9_Template(rf,ctx){if(1&rf){const _r593=fesm2015_core.Rb();fesm2015_core.Qb(0,\"app-i-date\",61),fesm2015_core.Zb(\"emitIndication\",(function(){return fesm2015_core.rc(_r593),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb()}if(2&rf){const ctx_r571=fesm2015_core.dc();fesm2015_core.ic(\"step\",ctx_r571.steps[ctx_r571.currentStep])(\"inputInvalid\",ctx_r571.inputInvalid)}}function FormComponent_app_i_number_10_Template(rf,ctx){if(1&rf){const _r595=fesm2015_core.Rb();fesm2015_core.Qb(0,\"app-i-number\",61),fesm2015_core.Zb(\"emitIndication\",(function(){return fesm2015_core.rc(_r595),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb()}if(2&rf){const ctx_r572=fesm2015_core.dc();fesm2015_core.ic(\"step\",ctx_r572.steps[ctx_r572.currentStep])(\"inputInvalid\",ctx_r572.inputInvalid)}}function FormComponent_app_i_for_each_11_Template(rf,ctx){if(1&rf){const _r597=fesm2015_core.Rb();fesm2015_core.Qb(0,\"app-i-for-each\",62),fesm2015_core.Zb(\"emitIndication\",(function(){return fesm2015_core.rc(_r597),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb()}if(2&rf){const ctx_r573=fesm2015_core.dc();fesm2015_core.ic(\"step\",ctx_r573.steps[ctx_r573.currentStep])}}function FormComponent_app_i_radio_b_12_Template(rf,ctx){if(1&rf){const _r599=fesm2015_core.Rb();fesm2015_core.Qb(0,\"app-i-radio-b\",62),fesm2015_core.Zb(\"emitIndication\",(function(){return fesm2015_core.rc(_r599),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb()}if(2&rf){const ctx_r574=fesm2015_core.dc();fesm2015_core.ic(\"step\",ctx_r574.steps[ctx_r574.currentStep])}}function FormComponent_app_i_radio_c_13_Template(rf,ctx){if(1&rf){const _r601=fesm2015_core.Rb();fesm2015_core.Qb(0,\"app-i-radio-c\",62),fesm2015_core.Zb(\"emitIndication\",(function(){return fesm2015_core.rc(_r601),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb()}if(2&rf){const ctx_r575=fesm2015_core.dc();fesm2015_core.ic(\"step\",ctx_r575.steps[ctx_r575.currentStep])}}function FormComponent_app_i_select_14_Template(rf,ctx){if(1&rf){const _r603=fesm2015_core.Rb();fesm2015_core.Qb(0,\"app-i-select\",62),fesm2015_core.Zb(\"emitIndication\",(function(){return fesm2015_core.rc(_r603),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb()}if(2&rf){const ctx_r576=fesm2015_core.dc();fesm2015_core.ic(\"step\",ctx_r576.steps[ctx_r576.currentStep])}}function FormComponent_app_i_checkbox_15_Template(rf,ctx){if(1&rf){const _r605=fesm2015_core.Rb();fesm2015_core.Qb(0,\"app-i-checkbox\",62),fesm2015_core.Zb(\"emitIndication\",(function(){return fesm2015_core.rc(_r605),fesm2015_core.dc().showIndication()})),fesm2015_core.Pb()}if(2&rf){const ctx_r577=fesm2015_core.dc();fesm2015_core.ic(\"step\",ctx_r577.steps[ctx_r577.currentStep])}}function FormComponent_div_16_Template(rf,ctx){if(1&rf){const _r607=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",56),fesm2015_core.Qb(1,\"div\",63),fesm2015_core.Qb(2,\"div\",64),fesm2015_core.Qb(3,\"div\",65),fesm2015_core.Qb(4,\"div\",66),fesm2015_core.Mb(5,\"span\",67),fesm2015_core.Qb(6,\"h1\"),fesm2015_core.zc(7,\"Finalizado\"),fesm2015_core.Pb(),fesm2015_core.Qb(8,\"button\",68),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r607),fesm2015_core.dc().toogleCheckout()})),fesm2015_core.zc(9,\"Descargar\"),fesm2015_core.Pb(),fesm2015_core.Qb(10,\"div\",69),fesm2015_core.Mb(11,\"span\",70),fesm2015_core.Mb(12,\"span\",71),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}}function FormComponent_div_17_Template(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",72),fesm2015_core.Qb(1,\"div\",73),fesm2015_core.Mb(2,\"span\",74),fesm2015_core.Qb(3,\"span\",75),fesm2015_core.zc(4,\"1.\"),fesm2015_core.Pb(),fesm2015_core.Qb(5,\"span\",76),fesm2015_core.zc(6,\"Elige un documento\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(7,\"div\",73),fesm2015_core.Mb(8,\"span\",77),fesm2015_core.Qb(9,\"span\",75),fesm2015_core.zc(10,\"2.\"),fesm2015_core.Pb(),fesm2015_core.Qb(11,\"span\",76),fesm2015_core.zc(12,\"Rellena el formulario\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(13,\"div\",73),fesm2015_core.Mb(14,\"span\",78),fesm2015_core.Qb(15,\"span\",75),fesm2015_core.zc(16,\"3.\"),fesm2015_core.Pb(),fesm2015_core.Qb(17,\"span\",76),fesm2015_core.zc(18,\"Guárdalo e imprímelo\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb())}function FormComponent_div_18_div_10_Template(rf,ctx){if(1&rf){const _r610=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",81),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r610),fesm2015_core.dc(2).moveStep(\"next\")})),fesm2015_core.Qb(1,\"span\",83),fesm2015_core.zc(2,\"Siguiente\"),fesm2015_core.Pb(),fesm2015_core.Mb(3,\"span\",86),fesm2015_core.Pb()}}function FormComponent_div_18_Template(rf,ctx){if(1&rf){const _r612=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",79),fesm2015_core.Qb(1,\"div\",80),fesm2015_core.Qb(2,\"div\",81),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r612),fesm2015_core.dc().moveStep(\"previous\")})),fesm2015_core.Mb(3,\"span\",82),fesm2015_core.Qb(4,\"span\",83),fesm2015_core.zc(5,\"Anterior\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",84),fesm2015_core.Zb(\"click\",(function(){return fesm2015_core.rc(_r612),fesm2015_core.dc().previewDocumentButton(!0)})),fesm2015_core.zc(7,\" Preview \"),fesm2015_core.Qb(8,\"span\"),fesm2015_core.zc(9,\"⬇\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.yc(10,FormComponent_div_18_div_10_Template,4,0,\"div\",85),fesm2015_core.Pb(),fesm2015_core.Pb()}if(2&rf){const ctx_r580=fesm2015_core.dc();fesm2015_core.zb(10),fesm2015_core.ic(\"ngIf\",\"end\"!==(null==ctx_r580.steps[ctx_r580.currentStep]?null:ctx_r580.steps[ctx_r580.currentStep].type))}}let form_component_FormComponent=(()=>{class FormComponent{constructor(stepModelService,commonsService,sharedService,documentCreatorService,formsService,toastr,checkoutService,route,metaService){this.stepModelService=stepModelService,this.commonsService=commonsService,this.sharedService=sharedService,this.documentCreatorService=documentCreatorService,this.formsService=formsService,this.toastr=toastr,this.checkoutService=checkoutService,this.route=route,this.metaService=metaService,this.form=new core.i,this.currentStep=0,this.progresBarPercentage=\"0%\",this.steps=[],this.formAlreadyPaid=!1,this.indications={areIndications:!0,indicationsType:\"outsideText\",value:\"\"},this.inputInvalid=!1}ngOnInit(){this.commonsService.isBrowser()&&(this.commonsService.toggleSpinner(),this.route.params.subscribe(routeParams=>{this.route.queryParams.subscribe(params=>{params.transactionId?(this.formAlreadyPaid=!0,this.formsService.getPaidCertifiedForm(params.transactionId).subscribe(data=>{if(data.certifiedForm){const certifiedForm=data.certifiedForm;this.form.fields=JSON.parse(certifiedForm.fields),this.steps=this.form.fields,this.form.title=certifiedForm.title,this.form.uri=certifiedForm.uri,this.form.id=routeParams.id,this.form.amount=certifiedForm.amount,this.form.topLabelTitle=certifiedForm.topLabelTitle,this.form.information=certifiedForm.information,this.form.updated=certifiedForm.updated,this.setInitiaState()}else data.transactionNotFound?this.commonsService.toastMessage(\"error\",\"Transaction Id does not exist\",\"Transaction id not found\"):data.formExpired&&this.commonsService.toastMessage(\"error\",\"The period of 30 days to change the document has expired\",\"Transaction expired\")})):window.sessionStorage&&window.sessionStorage[routeParams.id]?(this.form=JSON.parse(window.sessionStorage[routeParams.id]),this.steps=this.form.fields,this.formAlreadyPaid=this.form.alreadyPaid,this.setInitiaState()):this.formsService.getCertifiedForm(routeParams.id).subscribe(certifiedForm=>{this.steps=certifiedForm.steps,this.form.fields=this.steps,this.form.title=certifiedForm.title,this.form.uri=certifiedForm.uri,this.form.id=routeParams.id,this.form.amount=certifiedForm.amount,this.form.image=certifiedForm.image,this.form.topLabelTitle=certifiedForm.topLabelTitle,this.form.information=certifiedForm.information,this.form.updated=certifiedForm.updated,this.setInitiaState()})})}))}ngAfterViewInit(){this.commonsService.resizeEditor(!1)}ngOnDestroy(){this.documentCreatorService.destroy(),window.removeEventListener(\"resize\",this.commonsService.resizeEditor.bind(this)),this.commonsService.setFormCreatorPlayground(!0)}setInitiaState(){this.stepModelService.init(this.form.fields),this.sharedService.setForm(this.form),this.form.fields.forEach((step,index)=>{step.isCurrentStep&&(this.currentStep=index,this.updateProgressBarPercentage(),\"end\"===this.steps[this.currentStep].type&&this.steps[this.currentStep].checkoutProcess.isInited&&!this.formAlreadyPaid&&this.toogleModal(this.modalEnd.nativeElement))}),this.documentCreatorService.init(this.form.uri).then(data=>{this.commonsService.setFormCreatorPlayground(!1),this.commonsService.resizeEditor(!0),window.addEventListener(\"resize\",this.commonsService.resizeEditor.bind(this)),this.documentCreatorService.resizeDocumentContainer(),this.stepModelService.buildDocument(!1),this.stepModelService.setInitialState(),this.documentCreatorService.resizeEvent(),this.commonsService.toggleSpinner()}),this.skipInitialStep()}skipInitialStep(){const previousUrl=this.commonsService.getPreviousUrl();previousUrl&&previousUrl.includes(\"/static/modelos\")&&\"start\"===this.steps[this.currentStep].type&&this.moveStep(\"next\")}toogleModal(modal){this.commonsService.toggleModal(modal,!0)}moveStep(type){\"next\"===type?this.validateBeforeNextStep(this.steps[this.currentStep])&&(this.steps[this.currentStep].isCurrentStep=!1,this.steps[this.currentStep+1].isCurrentStep=!0,this.currentStep+=1):\"previous\"===type&&(this.steps[this.currentStep].isCurrentStep=!1,this.steps[this.currentStep-1].isCurrentStep=!0,this.currentStep-=1),this.updateProgressBarPercentage(),\"end\"===this.steps[this.currentStep].type&&this.prepareForCheckout()}validateBeforeNextStep(step){if(step.mandatory){if(\"\"===step.replacement)return this.toastr.error(\"Form cannot be empty\",\"Empty field\",{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"}),this.inputInvalid=!0,!1;this.inputInvalid=!1}return!0}updateProgressBarPercentage(){if(this.progressBar&&this.currentStep){const oldPercentage=Math.round(this.currentStep/(this.steps.length-1)*100),currentPercentage=parseInt(this.progresBarPercentage,10),difference=oldPercentage>currentPercentage?oldPercentage-currentPercentage:currentPercentage-oldPercentage;for(let i=0;i<difference+1;i++)setTimeout(()=>{const newPercentage=oldPercentage>currentPercentage?currentPercentage+i:currentPercentage-i;this.progressBar.nativeElement.style.width=newPercentage+\"%\",this.progresBarPercentage=newPercentage+\"%\"},10*i)}else this.progresBarPercentage=Math.round(this.currentStep/(this.steps.length-1)*100)+\"%\"}showIndication(){const step=this.steps[this.currentStep];step.indications.areIndications&&(\"outsideText\"===step.indications.indicationsType||window.innerWidth<885?(this.indications=step.indications,this.toogleModal(this.modalIndication.nativeElement)):this.documentCreatorService.showIndicationInsideText(step.wordToReplace,step.indications.value))}prepareForCheckout(){this.form.fields=this.steps,this.sharedService.setForm(this.form)}startCheckout(){this.steps[this.currentStep].checkoutProcess.isInited=!0}onFormPaid(certifiedForm){this.documentCreatorService.destroy(),window.removeEventListener(\"resize\",this.commonsService.resizeEditor.bind(this)),this.formAlreadyPaid=!0,this.form.alreadyPaid=!0,this.form.uri=certifiedForm.uri,this.form.fields=JSON.parse(certifiedForm.fields),this.setInitiaState(),this.commonsService.toggleSpinner(),this.sendEmail(certifiedForm.transactionId)}previewDocumentButton(setDocumentVisible){this.commonsService.previewDocumentButton(setDocumentVisible),this.documentCreatorService.resizeEvent()}onExitPayment(){this.toogleModal(this.modalEnd.nativeElement)}toogleCheckout(){this.formAlreadyPaid?this.toogleModal(this.modalDownload.nativeElement):(this.toogleModal(this.modalEnd.nativeElement),this.startCheckout())}downloadWord(){this.documentCreatorService.downloadWord(this.form.id,this.form.uri)}downloadPdf(){this.documentCreatorService.downloadPdf(this.form.id,this.form.uri)}sendEmail(transactionId){setTimeout(()=>{this.documentCreatorService.saveUri().then(uri=>{this.checkoutService.sendMail(transactionId,uri).subscribe(data=>{console.log(data)})})},1e3)}}return FormComponent.ɵfac=function(t){return new(t||FormComponent)(fesm2015_core.Lb(step_service_StepsService),fesm2015_core.Lb(core.e),fesm2015_core.Lb(shared_service_SharedService),fesm2015_core.Lb(doc_creator_service_DocCreatorService),fesm2015_core.Lb(core.k),fesm2015_core.Lb(ngx_toastr.b),fesm2015_core.Lb(core.c),fesm2015_core.Lb(fesm2015_router.a),fesm2015_core.Lb(core.m))},FormComponent.ɵcmp=fesm2015_core.Fb({type:FormComponent,selectors:[[\"app-form\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(fesm2015_core.Dc(form_component_c0,!0),fesm2015_core.wc(form_component_c1,!0),fesm2015_core.Dc(form_component_c2,!0),fesm2015_core.Dc(form_component_c3,!0),fesm2015_core.Dc(form_component_c4,!0),fesm2015_core.Dc(_c5,!0)),2&rf&&(fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.modal=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.modalEnd=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.modalDownload=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.modalIndication=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.input=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.progressBar=_t.first))},decls:63,vars:17,consts:[[1,\"form-creator__container\"],[\"id\",\"fields-area\",1,\"form-creator__fields-area\"],[1,\"form-creator__fields-area__container\"],[1,\"form-creator__fields-area__top\"],[\"class\",\"form-creator__fields-area__top__container\",4,\"ngIf\"],[\"class\",\"progress-container\",4,\"ngIf\"],[1,\"form-creator__fields-area__middle\"],[\"class\",\"form-creator__fields-area__middle__container\",4,\"ngIf\"],[3,\"step\",\"inputInvalid\",\"emitIndication\",4,\"ngIf\"],[3,\"step\",\"emitIndication\",4,\"ngIf\"],[\"class\",\"form-creator__fields-area__bottom form-creator__fields-area__bottom--initial-screen\",4,\"ngIf\"],[\"class\",\"form-creator__fields-area__bottom\",4,\"ngIf\"],[\"id\",\"text-area\",1,\"form-creator__text-area\"],[\"id\",\"wodoautomatikdocs\",2,\"width\",\"100%\",\"height\",\"100%\",\"margin\",\"0px\",\"padding\",\"0px\"],[\"id\",\"editorContainer\",2,\"width\",\"100%\",\"height\",\"100%\",\"margin\",\"0px\",\"padding\",\"0px\"],[\"id\",\"scrollToTop\",1,\"button-filled\",\"button-filled--preview-document\",2,\"display\",\"none\",3,\"click\"],[2,\"font-size\",\"20px\"],[1,\"modal\"],[\"modal\",\"\"],[1,\"modal__content\",\"modal__content--privacy\"],[1,\"modal__content__top\",\"modal__content__top--privacy\"],[1,\"text-center\"],[\"id\",\"modal-middle-privacy\",1,\"modal__content__modal-middle\",\"modal__content__modal-middle--privacy\"],[1,\"modal__content__modal-middle__container\"],[3,\"innerHTML\"],[1,\"modal__content__modal-bottom\",\"modal__content__modal-bottom--privacy\"],[\"id\",\"modal-button\",1,\"button-filled\",3,\"click\"],[\"modalEnd\",\"\"],[1,\"modal__content\",\"modal__content--privacy\",3,\"form\",\"formPaid\",\"exitModal\",\"downloadWordOutput\",\"downloadPdfOutput\"],[\"modalDownload\",\"\"],[1,\"modal__content\",2,\"padding\",\"2rem\"],[1,\"modal__content__modal-middle\",\"modal__content__modal-middle--change-password\"],[1,\"download-documents-modal\"],[1,\"icon\",\"icon-file-word-solid\",\"trigger\",3,\"click\"],[1,\"icon\",\"icon-file-pdf-solid\",3,\"click\"],[1,\"modal__content__modal-bottom\"],[\"modalIndication\",\"\"],[1,\"modal__content\",\"modal__content--question-indication\"],[1,\"modal__content__top\",\"modal__content__top--indication\"],[1,\"modal__content__modal-middle\",\"modal__content__modal-middle--question-indication\"],[1,\"modal__content__modal-middle__container\",3,\"innerHTML\"],[1,\"new-modal-content__footer\",\"new-modal-content__footer--indicactions\"],[1,\"btn\",\"next-btn\",3,\"click\"],[1,\"form-creator__fields-area__top__container\"],[1,\"form-creator__fields-area__top__author-date\"],[1,\"form-creator__fields-area__top__author-date__author\"],[1,\"form-creator__fields-area__top__author-date__author__image-container\"],[\"src\",\"/assets/images/silvia-avatar.jpeg\",\"alt\",\"avatar\"],[\"routerLink\",\"/static/silvia-profile\"],[1,\"form-creator__fields-area__top__author-date__date\"],[1,\"form-creator__fields-area__top__before-start-button\"],[1,\"form-creator__fields-area__top__before-start-button__information-modal-icon\",\"trigger\"],[1,\"icon\",\"icon-info-solid\",3,\"click\"],[1,\"progress-container\"],[1,\"progress\",\"progress-large\"],[\"progressBar\",\"\"],[1,\"form-creator__fields-area__middle__container\"],[1,\"form-creator__fields-area__middle__initial-screen\"],[1,\"form-creator__fields-area__middle__initial-screen__form-title\"],[1,\"form-creator__fields-area__middle__initial-screen__description\"],[1,\"button-filled\",\"button-filled--start-form\",3,\"click\"],[3,\"step\",\"inputInvalid\",\"emitIndication\"],[3,\"step\",\"emitIndication\"],[1,\"form-creator__fields-area__field\"],[1,\"form-creator__fields-area__field__container\"],[1,\"form-creator__fields-area__end-step\"],[1,\"form-creator__fields-area__end-step__container\"],[1,\"form-creator__fields-area__end-step__check\",\"icon\",\"icon-check-circle-solid\"],[1,\"button-filled\",\"button-filled--start-form\",\"trigger\",3,\"click\"],[1,\"form-creator__fields-area__end-step__icons\"],[1,\"icon\",\"icon-file-word-solid\",\"trigger\"],[1,\"icon\",\"icon-file-pdf-solid\"],[1,\"form-creator__fields-area__bottom\",\"form-creator__fields-area__bottom--initial-screen\"],[1,\"form-creator__fields-area__bottom__step\"],[1,\"icon\",\"icon-file-regular\"],[1,\"form-creator__fields-area__bottom__step__number\"],[1,\"form-creator__fields-area__bottom__step__description\"],[1,\"icon\",\"icon-list-alt-regular\"],[1,\"icon\",\"icon-print-solid\"],[1,\"form-creator__fields-area__bottom\"],[1,\"form-creator__fields-area__bottom__container\"],[1,\"form-creator__fields-area__bottom__arrow-button\",3,\"click\"],[1,\"icon\",\"icon-chevron-left-solid\"],[1,\"form-creator__fields-area__bottom__arrow-button__label\"],[1,\"form-creator__fields-area__bottom__preview-button\",3,\"click\"],[\"class\",\"form-creator__fields-area__bottom__arrow-button\",3,\"click\",4,\"ngIf\"],[1,\"icon\",\"icon-chevron-right-solid\"]],template:function(rf,ctx){if(1&rf){const _r614=fesm2015_core.Rb();fesm2015_core.Qb(0,\"div\",0),fesm2015_core.Qb(1,\"div\",1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.yc(4,FormComponent_div_4_Template,14,1,\"div\",4),fesm2015_core.yc(5,FormComponent_div_5_Template,5,3,\"div\",5),fesm2015_core.Pb(),fesm2015_core.Qb(6,\"div\",6),fesm2015_core.yc(7,FormComponent_div_7_Template,8,2,\"div\",7),fesm2015_core.yc(8,FormComponent_app_i_text_8_Template,1,2,\"app-i-text\",8),fesm2015_core.yc(9,FormComponent_app_i_date_9_Template,1,2,\"app-i-date\",8),fesm2015_core.yc(10,FormComponent_app_i_number_10_Template,1,2,\"app-i-number\",8),fesm2015_core.yc(11,FormComponent_app_i_for_each_11_Template,1,1,\"app-i-for-each\",9),fesm2015_core.yc(12,FormComponent_app_i_radio_b_12_Template,1,1,\"app-i-radio-b\",9),fesm2015_core.yc(13,FormComponent_app_i_radio_c_13_Template,1,1,\"app-i-radio-c\",9),fesm2015_core.yc(14,FormComponent_app_i_select_14_Template,1,1,\"app-i-select\",9),fesm2015_core.yc(15,FormComponent_app_i_checkbox_15_Template,1,1,\"app-i-checkbox\",9),fesm2015_core.yc(16,FormComponent_div_16_Template,13,0,\"div\",7),fesm2015_core.Pb(),fesm2015_core.yc(17,FormComponent_div_17_Template,19,0,\"div\",10),fesm2015_core.yc(18,FormComponent_div_18_Template,11,1,\"div\",11),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(19,\"div\",12),fesm2015_core.Qb(20,\"div\",13),fesm2015_core.Mb(21,\"div\",14),fesm2015_core.Pb(),fesm2015_core.Qb(22,\"button\",15),fesm2015_core.Zb(\"click\",(function(){return ctx.previewDocumentButton(!1)})),fesm2015_core.zc(23,\"Form \"),fesm2015_core.Qb(24,\"span\",16),fesm2015_core.zc(25,\"↑\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(26,\"div\",17,18),fesm2015_core.Qb(28,\"div\",19),fesm2015_core.Qb(29,\"div\",20),fesm2015_core.Qb(30,\"h2\",21),fesm2015_core.zc(31,\"Indicaciones antes de comenzar el formulario\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(32,\"div\",22),fesm2015_core.Qb(33,\"div\",23),fesm2015_core.Mb(34,\"div\",24),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(35,\"div\",25),fesm2015_core.Qb(36,\"button\",26),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r614);const _r581=fesm2015_core.pc(27);return ctx.toogleModal(_r581),ctx.moveStep(\"next\")})),fesm2015_core.zc(37,\"Rellenar\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(38,\"div\",17,27),fesm2015_core.Qb(40,\"app-checkout\",28),fesm2015_core.Zb(\"formPaid\",(function($event){return ctx.onFormPaid($event)}))(\"exitModal\",(function(){return ctx.onExitPayment()}))(\"downloadWordOutput\",(function(){return ctx.downloadWord()}))(\"downloadPdfOutput\",(function(){return ctx.downloadPdf()})),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(41,\"div\",17,29),fesm2015_core.Qb(43,\"div\",30),fesm2015_core.Qb(44,\"div\",31),fesm2015_core.Qb(45,\"div\",23),fesm2015_core.Qb(46,\"div\",32),fesm2015_core.Qb(47,\"span\",33),fesm2015_core.Zb(\"click\",(function(){return ctx.downloadWord()})),fesm2015_core.Pb(),fesm2015_core.Qb(48,\"span\",34),fesm2015_core.Zb(\"click\",(function(){return ctx.downloadPdf()})),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(49,\"div\",35),fesm2015_core.Qb(50,\"button\",26),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r614);const _r583=fesm2015_core.pc(42);return ctx.toogleModal(_r583)})),fesm2015_core.zc(51,\"Cancelar\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(52,\"div\",17,36),fesm2015_core.Qb(54,\"div\",37),fesm2015_core.Qb(55,\"div\",38),fesm2015_core.Qb(56,\"h2\"),fesm2015_core.zc(57,\"Indicaciones\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(58,\"div\",39),fesm2015_core.Mb(59,\"div\",40),fesm2015_core.Pb(),fesm2015_core.Qb(60,\"div\",41),fesm2015_core.Qb(61,\"button\",42),fesm2015_core.Zb(\"click\",(function(){fesm2015_core.rc(_r614);const _r584=fesm2015_core.pc(53);return ctx.toogleModal(_r584)})),fesm2015_core.zc(62,\"Entendido\"),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb()}2&rf&&(fesm2015_core.zb(4),fesm2015_core.ic(\"ngIf\",\"start\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"start\"!==(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(2),fesm2015_core.ic(\"ngIf\",\"start\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iText\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iDate\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iNumber\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iForEach\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iRadioB\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)&&\"select\"!==(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].subType)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iRadioC\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)&&\"select\"!==(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].subType)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iRadioC\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)&&\"select\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].subType)||\"iRadioB\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)&&\"select\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].subType)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"iCheckbox\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"end\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"start\"===(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(1),fesm2015_core.ic(\"ngIf\",\"start\"!==(null==ctx.steps[ctx.currentStep]?null:ctx.steps[ctx.currentStep].type)),fesm2015_core.zb(16),fesm2015_core.ic(\"innerHTML\",ctx.form.information,fesm2015_core.sc),fesm2015_core.zb(6),fesm2015_core.ic(\"form\",ctx.form),fesm2015_core.zb(19),fesm2015_core.ic(\"innerHTML\",ctx.indications.value,fesm2015_core.sc))},directives:[common.t,checkout_component_CheckoutComponent,fesm2015_router.e,i_text_component_ITextComponent,i_date_component_IDateComponent,i_number_component_INumberComponent,i_for_each_component_IForEachComponent,i_radio_b_component_IRadioBComponent,i_radio_c_component_IRadioCComponent,i_select_component_ISelectComponent,i_checkbox_component_ICheckboxComponent],encapsulation:2}),FormComponent})();const certified_forms_component_c0=[\"subMenu\"],certified_forms_component_c1=[\"loginModal\"];function CertifiedFormsComponent_li_6_Template(rf,ctx){if(1&rf&&(fesm2015_core.Qb(0,\"li\",8),fesm2015_core.zc(1),fesm2015_core.Pb()),2&rf){const ctx_r566=fesm2015_core.dc();fesm2015_core.zb(1),fesm2015_core.Bc(\" \",ctx_r566.form.topLabelTitle,\" \")}}const routes=[{path:\":id\",component:(()=>{class CertifiedFormsComponent{constructor(commonsService,formsService,userService,sharedService,router,route,toastr){this.commonsService=commonsService,this.formsService=formsService,this.userService=userService,this.sharedService=sharedService,this.router=router,this.route=route,this.toastr=toastr,this.form=new core.i,this.originalForm=new core.i,this.currentStep=0,this.updatingForm=!1}ngOnInit(){this.commonsService.addTags(\"certifiedForms\"),this.sharedService.currentForm.subscribe(form=>{this.commonsService.isObjectEmpty(form)||(this.form=form,this.currentStep=form.currentStep)}),this.userService.isAuthenticated.subscribe(isAuthenticated=>{this.isAuth=!!isAuthenticated}),this.commonsService.isBrowser()&&window.addEventListener(\"unload\",this.saveInSessionStorage.bind(this))}ngOnDestroy(){this.saveInSessionStorage(),window.removeEventListener(\"unload\",this.saveInSessionStorage)}topMenuNav(e){this.commonsService.subMenuNav(e,this.subMenu.nativeElement)}saveForm(){this.isAuth?(this.form.type=\"Certified\",this.validateForm(),this.formsService.save(this.form).subscribe(form=>{this.toastr.success(\"Has been saved\",form.title,{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"})},err=>{console.log(err),this.toastr.error(\"Un error ha ocurrido. Inténtalo de nuevo\",\"Error\",{positionClass:\"toast-bottom-right\",progressBar:!0,progressAnimation:\"decreasing\"})})):(window.sessionStorage&&(window.sessionStorage[this.form.id]=JSON.stringify(this.form)),this.router.navigate([\"/auth/login\"],{queryParams:{formPath:this.router.url.substring(this.router.url.lastIndexOf(\"/\")+1)}}))}saveInSessionStorage(){window.sessionStorage&&(window.sessionStorage[this.form.id]=JSON.stringify(this.form))}toogleModal(modal){this.commonsService.toggleModal(modal,!0)}validateForm(){this.form.description=\"blabla\",this.form.text=\"blaw\"}}return CertifiedFormsComponent.ɵfac=function(t){return new(t||CertifiedFormsComponent)(fesm2015_core.Lb(core.e),fesm2015_core.Lb(core.k),fesm2015_core.Lb(core.v),fesm2015_core.Lb(shared_service_SharedService),fesm2015_core.Lb(fesm2015_router.d),fesm2015_core.Lb(fesm2015_router.a),fesm2015_core.Lb(ngx_toastr.b))},CertifiedFormsComponent.ɵcmp=fesm2015_core.Fb({type:CertifiedFormsComponent,selectors:[[\"app-certified-forms\"]],viewQuery:function(rf,ctx){var _t;1&rf&&(fesm2015_core.Dc(certified_forms_component_c0,!0),fesm2015_core.Dc(certified_forms_component_c1,!0)),2&rf&&(fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.subMenu=_t.first),fesm2015_core.oc(_t=fesm2015_core.ac())&&(ctx.loginModal=_t.first))},decls:9,vars:2,consts:[[1,\"sub-menu\"],[\"subMenu\",\"\"],[1,\"sub-menu__container\",\"sub-menu__container--fill-form\"],[1,\"sub-menu__left-button\",\"sub-menu__left-button--fill-form\"],[1,\"button-filled\",\"button-filled--sub-menu-fill-form\",\"icon\",\"icon-save-solid\",3,\"hidden\",\"click\"],[1,\"sub-menu__nav\",\"sub-menu__nav--fill-form\",2,\"justify-content\",\"center\"],[\"class\",\"sub-menu__nav__button sub-menu__nav__button--without-hover\",4,\"ngIf\"],[\"id\",\"form-creator\",1,\"form-creator\"],[1,\"sub-menu__nav__button\",\"sub-menu__nav__button--without-hover\"]],template:function(rf,ctx){1&rf&&(fesm2015_core.Qb(0,\"div\",0,1),fesm2015_core.Qb(2,\"div\",2),fesm2015_core.Qb(3,\"div\",3),fesm2015_core.Qb(4,\"button\",4),fesm2015_core.Zb(\"click\",(function(){return ctx.saveForm()})),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(5,\"ul\",5),fesm2015_core.yc(6,CertifiedFormsComponent_li_6_Template,2,1,\"li\",6),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Pb(),fesm2015_core.Qb(7,\"div\",7),fesm2015_core.Mb(8,\"app-form\"),fesm2015_core.Pb()),2&rf&&(fesm2015_core.zb(4),fesm2015_core.ic(\"hidden\",!ctx.currentStep),fesm2015_core.zb(2),fesm2015_core.ic(\"ngIf\",ctx.form))},directives:[common.t,form_component_FormComponent],encapsulation:2}),CertifiedFormsComponent})(),children:[]}];let certified_forms_routing_module_CertifiedFormsRoutingModule=(()=>{class CertifiedFormsRoutingModule{}return CertifiedFormsRoutingModule.ɵmod=fesm2015_core.Jb({type:CertifiedFormsRoutingModule}),CertifiedFormsRoutingModule.ɵinj=fesm2015_core.Ib({factory:function(t){return new(t||CertifiedFormsRoutingModule)},imports:[[fesm2015_router.h.forChild(routes)],fesm2015_router.h]}),CertifiedFormsRoutingModule})(),certified_forms_module_CertifiedFormsModule=(()=>{class CertifiedFormsModule{}return CertifiedFormsModule.ɵmod=fesm2015_core.Jb({type:CertifiedFormsModule}),CertifiedFormsModule.ɵinj=fesm2015_core.Ib({factory:function(t){return new(t||CertifiedFormsModule)},providers:[shared_service_SharedService,doc_creator_service_DocCreatorService,step_service_StepsService],imports:[[common.c,shared.a,certified_forms_routing_module_CertifiedFormsRoutingModule]]}),CertifiedFormsModule})()},mrSG:function(module,__webpack_exports__,__webpack_require__){\"use strict\";function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}__webpack_require__.d(__webpack_exports__,\"a\",(function(){return __awaiter}))}}]);","extractedComments":[]}